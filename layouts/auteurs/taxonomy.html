{{- define "main" }} {{- if not .IsHome | and .Title }}
<header class="page-header">
  {{- partial "breadcrumbs.html" . }}
  <h1>
    {{ .Title }} {{- if and (or (eq .Kind `term`) (eq .Kind `section`)) (.Param
    "ShowRssButtonInSectionTermList") }} {{- with .OutputFormats.Get "rss" }}
    <a href="{{ .RelPermalink }}" title="RSS" aria-label="RSS">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        height="23">
        <path d="M4 11a9 9 0 0 1 9 9" />
        <path d="M4 4a16 16 0 0 1 16 16" />
        <circle cx="5" cy="19" r="1" />
      </svg>
    </a>
    {{- end }} {{- end }}
  </h1>
  {{- if .Description }}
  <div class="post-description">{{ .Description | markdownify }}</div>
  {{- end }}
</header>
{{- end }} {{- if .Content }}
<div class="post-content">
  {{- if not (.Param "disableAnchoredHeadings") }} {{- partial "anchored_headings.html" .Content -}}
  {{- else }} {{ .Content }} {{ end }}
</div>
{{- end }} {{/* Create a slice to hold authors with extracted last names for sorting */}} {{
$authorsWithLastNames := slice }} {{/* Extract last names and create sortable objects */}} {{ range
.Data.Terms.Alphabetical }} {{ $fullName := .Name }} {{ $nameParts := split $fullName " " }} {{
$lastName := index $nameParts (sub (len $nameParts) 1) }} {{ $authorData := dict "fullName"
$fullName "lastName" $lastName "page" .Page "count" .Count }} {{ $authorsWithLastNames =
$authorsWithLastNames | append $authorData }} {{ end }} {{/* Sort by last name and display as pills
*/}}
<ul class="terms-tags">
  {{ range sort $authorsWithLastNames "lastName" }}
  <li>
    <a href="{{ .page.Permalink }}"
      >{{ .fullName }}
      <sup
        ><strong><sup>{{ .count }}</sup></strong></sup
      ></a
    >
  </li>
  {{ end }}
</ul>

{{- end }}{{/* end main */}}
