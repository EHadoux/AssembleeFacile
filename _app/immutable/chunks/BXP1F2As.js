import{A as u,B as m,b as y,C as b,y as _,D as f,F as h}from"./D6TiDLm_.js";function E(e,a,v=a){var o=new WeakSet;u(e,"input",async r=>{var l=r?e.defaultValue:e.value;if(l=d(e)?i(l):l,v(l),f!==null&&o.add(f),await m(),l!==(l=a())){var n=e.selectionStart,s=e.selectionEnd,t=e.value.length;if(e.value=l??"",s!==null){var c=e.value.length;n===s&&s===t&&c>t?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=n,e.selectionEnd=Math.min(s,c))}}}),(_&&e.defaultValue!==e.value||y(a)==null&&e.value)&&(v(d(e)?i(e.value):e.value),f!==null&&o.add(f)),b(()=>{var r=a();if(e===document.activeElement){var l=h??f;if(o.has(l))return}d(e)&&r===i(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function d(e){var a=e.type;return a==="number"||a==="range"}function i(e){return e===""?null:+e}function S(e,a,v=a){u(e,"change",()=>{v(e.files)}),_&&e.files&&v(e.files),b(()=>{e.files=a()})}export{S as a,E as b};
