import{t as S,a as d,c as Y,f as p}from"./Bn8D5vT6.js";import{p as Z,n as s,g as o,k as v,o as n,q,t as c,j as $,v as _,h as tt}from"./COYP6b2A.js";import{d as et,s as f,a as at}from"./BY0ZPMYX.js";import{i as x}from"./7CZWphsi.js";import{e as rt,i as st,s as D,a as ot}from"./D1IRmeBa.js";import{B as A}from"./CahPlO_V.js";import{s as nt}from"./DitptZtz.js";var lt=p('<div class="absolute inset-y-0 left-0 w-[3px] rounded-l-xl"></div>'),it=p('<div class="absolute right-3 top-3 z-10 rounded-full bg-primary px-2.5 py-0.5 text-[11px] font-bold tabular-nums text-primary-foreground"> </div>'),dt=p('<span class="rounded-full bg-accent px-1.5 py-0.5 text-[10px] font-medium normal-case tracking-normal text-muted-foreground"> </span>'),ut=p('<p class="mb-3 flex items-center gap-1.5"><svg class="h-3 w-3 shrink-0 text-muted-foreground/50" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> <span class="text-[10.5px] font-semibold uppercase tracking-widest text-muted-foreground/60"> </span> <!></p>'),vt=p('<p class="mb-1 border-l-2 border-muted-foreground/20 pl-3 text-[12.5px] leading-relaxed text-muted-foreground line-clamp-2"> </p>'),ct=p('<a target="_blank" rel="noopener noreferrer" class="relative z-10 inline-flex items-center gap-1 rounded-full bg-accent px-2.5 py-0.5 text-xs font-medium text-muted-foreground transition-colors hover:text-primary" title="Voir sur assemblee-nationale.fr"> </a>'),ft=p('<span class="inline-flex items-center gap-1 rounded-full bg-accent px-2.5 py-0.5 text-xs font-medium text-muted-foreground"> </span>'),pt=p('<article class="group relative overflow-hidden rounded-xl border border-border bg-card shadow-sm transition-all duration-200 hover:shadow-md hover:-translate-y-0.5"><!> <!> <div class="p-5"><div class="pr-16"><h2 class="mb-2 text-[0.9375rem] font-semibold leading-snug tracking-tight text-foreground"> </h2> <!> <!></div> <div class="mt-3 flex items-center gap-2 border-t border-border/50 pt-3"><div class="flex flex-1 min-w-0 flex-wrap items-center gap-1.5"><!> <!></div> <div class="flex-shrink-0"><!></div></div></div> <a class="absolute inset-0 z-0 rounded-xl"></a></article>');function yt(I,a){Z(a,!0);function L(t){return t?new Intl.DateTimeFormat("fr-FR",{dateStyle:"medium"}).format(new Date(t)):""}function V(t){const e=[...t].reverse().find(r=>r.trim()!=="");return e?e.includes("adopté")?{label:"Adopté ✅",variant:"default"}:e.includes("rejeté")?{label:"Rejeté ❌",variant:"destructive"}:{label:e.replace(/[✅❌]/g,"").trim(),variant:"secondary"}:{label:"En cours",variant:"secondary"}}const g=_(()=>V(a.post.stepsStatus)),h=_(()=>L(a.post.date)),N=_(()=>o(g).variant==="default"?"#16a34a":o(g).variant==="destructive"?"#dc2626":null);var k=pt(),B=s(k);{var G=t=>{var e=lt();c(()=>ot(e,`background-color: ${o(N)??""}`)),d(t,e)};x(B,t=>{o(N)&&t(G)})}var C=v(B,2);{var H=t=>{var e=it(),r=s(e);n(e),c(()=>f(r,`N° ${a.post.proposalNum??""}`)),d(t,e)};x(C,t=>{a.post.proposalNum&&t(H)})}var y=v(C,2),w=s(y),z=s(w),J=s(z,!0);n(z);var T=v(z,2);{var K=t=>{var e=ut(),r=v(s(e),2),u=s(r,!0);n(r);var b=v(r,2);{var i=l=>{var m=dt(),j=s(m);n(m),c(()=>f(j,`+${a.post.auteurs.length-1}`)),d(l,m)};x(b,l=>{a.post.auteurs.length>1&&l(i)})}n(e),c(()=>f(u,a.post.auteurs[0])),d(t,e)};x(T,t=>{a.post.auteurs.length>0&&t(K)})}var O=v(T,2);{var Q=t=>{var e=vt(),r=s(e,!0);n(e),c(()=>f(r,a.post.excerpt)),d(t,e)};x(O,t=>{a.post.excerpt&&t(Q)})}n(w);var E=v(w,2),P=s(E),F=s(P);{var U=t=>{var e=Y(),r=tt(e);{var u=i=>{var l=ct(),m=s(l);n(l),c(()=>{D(l,"href",a.post.link),f(m,`${o(h)??""} ↗`)}),at("click",l,j=>j.stopPropagation()),d(i,l)},b=i=>{var l=ft(),m=s(l,!0);n(l),c(()=>f(m,o(h))),d(i,l)};x(r,i=>{a.post.link?i(u):i(b,!1)})}d(t,e)};x(F,t=>{o(h)&&t(U)})}var W=v(F,2);rt(W,17,()=>a.post.tags.slice(0,3),st,(t,e)=>{{let r=_(()=>nt(o(e)));A(t,{variant:"secondary",class:"relative z-10 cursor-pointer rounded-full px-2.5 py-0.5 text-xs font-medium",get href(){return`/tags/${o(r)??""}`},onclick:u=>u.stopPropagation(),children:(u,b)=>{q();var i=S();c(()=>f(i,o(e))),d(u,i)},$$slots:{default:!0}})}}),n(P);var M=v(P,2),X=s(M);{let t=_(()=>o(g).variant==="default"?"!bg-green-600 !text-white":"");A(X,{get variant(){return o(g).variant},get class(){return`rounded-full text-xs whitespace-nowrap ${o(t)??""}`},children:(e,r)=>{q();var u=S();c(()=>f(u,o(g).label)),d(e,u)},$$slots:{default:!0}})}n(M),n(E),n(y);var R=v(y,2);n(k),c(()=>{f(J,a.post.proposalTitle),D(R,"href",`/posts/${a.post.slug??""}`),D(R,"aria-label",`Lire : ${a.post.proposalTitle??""}`)}),d(I,k),$()}et(["click"]);export{yt as P};
