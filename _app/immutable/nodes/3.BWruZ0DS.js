import{a as i,f as l}from"../chunks/6bLpuDLV.js";import{p as we,s as ce,i as ye,u as ke,h as Pe,t as w,j as je,k as s,l as L,m as Ce,$ as Te,n as t,o as e,q as Ae,g as a,v as J}from"../chunks/CMIhKqG-.js";import{s as g,e as M,r as qe}from"../chunks/DSLF0eNn.js";import{i as z}from"../chunks/PUcF9CRP.js";import{e as B,i as D,s as V,a as H,b as $}from"../chunks/BtNE-aZC.js";import{h as Se}from"../chunks/DnWzQkCy.js";import{P as Re}from"../chunks/B4w5zcSo.js";import{s as ze}from"../chunks/Cz1-S_UM.js";var Be=l(`<meta name="description" content="Retrouvez les propositions de loi déposées à l'Assemblée nationale, expliquées clairement."/>`),De=l('<a href="/page/2" class="text-xs font-medium text-primary hover:underline">Voir plus →</a>'),Ee=l('<div class="mt-8 flex justify-center"><a href="/page/2" class="rounded-lg border border-border bg-white px-6 py-2.5 text-sm font-medium text-foreground shadow-sm hover:border-primary hover:text-primary transition-colors">Page suivante →</a></div>'),Fe=l('<img class="h-8 w-8 shrink-0 rounded-full bg-accent object-cover object-top"/>'),Ge=l('<div class="flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-accent text-xs font-semibold text-muted-foreground"> </div>'),Le=l('<span class="block w-fit rounded-sm px-1.5 py-px text-[9px] font-bold uppercase tracking-wide text-white"> </span>'),Me=l('<li class="flex items-center gap-3"><span class="w-4 shrink-0 text-xs font-bold tabular-nums text-muted-foreground"></span> <!> <div class="min-w-0 flex-1"><a class="text-xs font-semibold leading-tight text-foreground hover:text-primary hover:underline"> </a> <!></div> <span class="shrink-0 text-xs font-bold tabular-nums text-primary"> </span></li>'),Ve=l('<div class="flex items-center gap-2"><span role="presentation" class="w-14 shrink-0 truncate text-[11px] font-medium text-muted-foreground cursor-help underline decoration-dotted underline-offset-2"> </span> <div class="flex-1 overflow-hidden rounded-full bg-accent" style="height:5px;"><div class="h-full rounded-full"></div></div> <span class="w-6 shrink-0 text-right text-[11px] font-bold tabular-nums text-foreground"> </span></div>'),He=l('<li><a class="group -mx-2 flex flex-col gap-1.5 rounded-lg px-2 py-2 transition-colors hover:bg-accent/60"><div class="flex items-start gap-2"><span></span> <span class="flex-1 text-[11px] font-medium leading-snug text-foreground line-clamp-2 transition-colors group-hover:text-primary"> </span></div> <div class="ml-6 flex items-center gap-2"><div class="h-[3px] flex-1 overflow-hidden rounded-full bg-accent"><div></div></div> <span class="shrink-0 text-[10px] font-bold tabular-nums text-primary/70"> </span></div></a></li>'),Ie=l('<span class="block h-2 w-2 rounded-full"></span>'),Je=l('<span class="block text-[9px] font-black leading-none text-muted-foreground/30">×</span>'),Ke=l('<span role="presentation" class="relative flex h-2 w-2 shrink-0 cursor-default items-center justify-center"><!></span>'),Ne=l('<li><a class="group -mx-2 flex flex-col gap-1.5 rounded-lg px-2 py-2 transition-colors hover:bg-accent/60"><div class="flex items-start gap-2"><span></span> <span class="flex-1 text-[11px] font-medium leading-snug text-foreground line-clamp-2 transition-colors group-hover:text-primary"> </span></div> <div class="ml-6 flex items-center gap-2"><div class="flex items-center gap-[3px]"></div> <span class="ml-auto shrink-0 text-[10px] tabular-nums text-muted-foreground/60"> </span></div></a></li>'),Oe=l('<div class="pointer-events-none fixed z-50 -translate-x-1/2 -translate-y-full rounded-md bg-foreground px-2.5 py-1 text-xs font-semibold text-background shadow-lg"> </div>'),Qe=l('<section class="border-b border-border/50 bg-white py-12"><div class="mx-auto max-w-6xl px-4"><div class="max-w-2xl"><p class="mb-2 text-xs font-semibold uppercase tracking-widest text-primary opacity-80">17e législature</p> <h1 class="mb-4 text-4xl font-extrabold leading-tight tracking-tight text-foreground">Les propositions de loi,<br/> <span class="text-primary">expliquées clairement.</span></h1> <p class="text-base text-muted-foreground"> </p></div></div></section> <div class="mx-auto max-w-6xl px-4 py-8"><div class="grid grid-cols-1 gap-8 lg:grid-cols-[1fr_280px]"><section><div class="mb-5 flex items-baseline justify-between"><h2 class="text-sm font-semibold uppercase tracking-widest text-muted-foreground">Dernières propositions</h2> <!></div> <div class="flex flex-col gap-3"></div> <!></section> <aside class="flex flex-col gap-5"><div class="rounded-xl border border-border bg-white p-5 shadow-sm"><h3 class="mb-4 text-xs font-semibold uppercase tracking-widest text-muted-foreground">Top contributeurs</h3> <ol class="flex flex-col gap-2"></ol> <a href="/auteurs" class="mt-4 block text-center text-xs font-medium text-primary hover:underline">Tous les auteurs →</a></div> <div class="rounded-xl border border-border bg-white p-5 shadow-sm"><h3 class="mb-4 text-xs font-semibold uppercase tracking-widest text-muted-foreground">Propositions par groupe</h3> <div class="flex flex-col gap-2"></div></div> <div class="rounded-xl border border-border bg-white p-5 shadow-sm"><h3 class="mb-4 text-xs font-semibold uppercase tracking-widest text-muted-foreground">Plus cosignées</h3> <ol class="flex flex-col gap-1"></ol></div> <div class="rounded-xl border border-border bg-white p-5 shadow-sm"><h3 class="mb-4 text-xs font-semibold uppercase tracking-widest text-muted-foreground">Trans-partisanes</h3> <ol class="flex flex-col gap-1"></ol></div></aside></div></div> <!>',1);function rt(ve,v){we(v,!0);let K=ce(ye([]));ke(()=>{L(K,v.data.topContributors.map(()=>!1),!0)});let P=ce(null);var ee=Qe();Se("1uha8ag",o=>{var r=Be();Ce(()=>{Te.title="Assemblée Facile — Propositions de loi en clair"}),i(o,r)});var N=Pe(ee),te=t(N),re=t(te),ae=s(t(re),4),pe=t(ae);e(ae),e(re),e(te),e(N);var O=s(N,2),se=t(O),Q=t(se),U=t(Q),xe=s(t(U),2);{var me=o=>{var r=De();i(o,r)};z(xe,o=>{v.data.totalPages>1&&o(me)})}e(U);var W=s(U,2);B(W,21,()=>v.data.posts,D,(o,r)=>{Re(o,{get post(){return a(r)}})}),e(W);var fe=s(W,2);{var ge=o=>{var r=Ee();i(o,r)};z(fe,o=>{v.data.totalPages>1&&o(ge)})}e(Q);var oe=s(Q,2),X=t(oe),ne=s(t(X),2);B(ne,21,()=>v.data.topContributors,D,(o,r,d)=>{let p=()=>a(r).name,b=()=>a(r).count_auteur,y=()=>a(r).groupeAbrev,k=()=>a(r).couleur,h=()=>a(r).photo;var u=Me(),x=t(u);x.textContent=d+1;var m=s(x,2);{var f=c=>{var n=Fe();w(()=>{V(n,"src",`https://www2.assemblee-nationale.fr/static/tribun/17/photos/${h()??""}`),V(n,"alt",p())}),M("error",n,()=>{a(K)[d]=!0}),qe(n),i(c,n)},S=c=>{var n=Ge(),G=t(n,!0);e(n),w(R=>g(G,R),[()=>{var R;return((R=p().split(" ").pop())==null?void 0:R[0])??"?"}]),i(c,n)};z(m,c=>{h()&&!a(K)[d]?c(f):c(S,!1)})}var j=s(m,2),_=t(j),C=t(_,!0);e(_);var q=s(_,2);{var E=c=>{var n=Le(),G=t(n,!0);e(n),w(()=>{H(n,`background-color: ${k()??"#9ca3af"??""};`),g(G,y())}),i(c,n)};z(q,c=>{y()&&c(E)})}e(j);var I=s(j,2),F=t(I,!0);e(I),e(u),w(c=>{V(_,"href",`/auteurs/${c??""}`),g(C,p()),g(F,b())},[()=>ze(p())]),i(o,u)}),e(ne),Ae(2),e(X);var Y=s(X,2),ie=s(t(Y),2);B(ie,21,()=>v.data.partyStats,D,(o,r)=>{const d=J(()=>v.data.partyStats[0].count);var p=Ve(),b=t(p),y=t(b,!0);e(b);var k=s(b,2),h=t(k);e(k);var u=s(k,2),x=t(u,!0);e(u),e(p),w(()=>{g(y,a(r).abrev),H(h,`width:${a(r).count/a(d)*100}%; background-color:${a(r).couleur??""};`),g(x,a(r).count)}),M("mouseenter",b,m=>{const f=m.currentTarget.getBoundingClientRect();L(P,{x:f.left+f.width/2,y:f.top-8,text:a(r).nom},!0)}),M("mouseleave",b,()=>L(P,null)),i(o,p)}),e(ie),e(Y);var Z=s(Y,2),le=s(t(Z),2);B(le,21,()=>v.data.mostCosigned,D,(o,r,d)=>{let p=()=>a(r).slug,b=()=>a(r).titre_court,y=()=>a(r).nb_cosignataires;const k=J(()=>Math.round(y()/v.data.totalDeputes*100));var h=He(),u=t(h),x=t(u),m=t(x);$(m,1,`mt-px flex h-4 w-4 shrink-0 items-center justify-center rounded text-[9px] font-black tabular-nums leading-none transition-colors ${d===0?"bg-primary text-white":"bg-accent text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"}`),m.textContent=d+1;var f=s(m,2),S=t(f,!0);e(f),e(x);var j=s(x,2),_=t(j),C=t(_);$(C,1,`h-full rounded-full transition-all duration-500 ${d===0?"bg-primary":"bg-primary/40 group-hover:bg-primary/70"}`),e(_);var q=s(_,2),E=t(q,!0);e(q),e(j),e(u),e(h),w(()=>{V(u,"href",`/posts/${p()??""}`),g(S,b()),H(C,`width:${a(k)??""}%;`),g(E,y())}),i(o,h)}),e(le),e(Z);var de=s(Z,2),ue=s(t(de),2);B(ue,21,()=>v.data.mostTransPartisan,D,(o,r,d)=>{let p=()=>a(r).slug,b=()=>a(r).titre_court,y=()=>a(r).nb_cosignataires,k=()=>a(r).groupes;const h=J(()=>new Set(k()));var u=Ne(),x=t(u),m=t(x),f=t(m);$(f,1,`mt-px flex h-4 w-4 shrink-0 items-center justify-center rounded text-[9px] font-black tabular-nums leading-none transition-colors ${d===0?"bg-primary text-white":"bg-accent text-muted-foreground group-hover:bg-primary/10 group-hover:text-primary"}`),f.textContent=d+1;var S=s(f,2),j=t(S,!0);e(S),e(m);var _=s(m,2),C=t(_);B(C,21,()=>v.data.orderedGroupes,D,(I,F)=>{const c=J(()=>a(h).has(a(F).abrev));var n=Ke(),G=t(n);{var R=T=>{var A=Ie();w(()=>H(A,`background-color: ${a(F).couleur??"#9ca3af"??""};`)),i(T,A)},he=T=>{var A=Je();i(T,A)};z(G,T=>{a(c)?T(R):T(he,!1)})}e(n),M("mouseenter",n,T=>{const A=T.currentTarget.getBoundingClientRect();L(P,{x:A.left+A.width/2,y:A.top-8,text:a(F).nom},!0)}),M("mouseleave",n,()=>L(P,null)),i(I,n)}),e(C);var q=s(C,2),E=t(q);e(q),e(_),e(x),e(u),w(()=>{V(x,"href",`/posts/${p()??""}`),g(j,b()),g(E,`${y()??""} sig.`)}),i(o,u)}),e(ue),e(de),e(oe),e(se),e(O);var be=s(O,2);{var _e=o=>{var r=Oe(),d=t(r,!0);e(r),w(()=>{H(r,`left: ${a(P).x??""}px; top: ${a(P).y??""}px;`),g(d,a(P).text)}),i(o,r)};z(be,o=>{a(P)&&o(_e)})}w(()=>g(pe,`${v.data.totalPosts??""} propositions de loi déposées à l'Assemblée nationale, résumées et organisées par thématique et auteur.`)),i(ve,ee),je()}export{rt as component};
