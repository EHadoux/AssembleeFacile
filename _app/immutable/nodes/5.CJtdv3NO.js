import{a as n,f as l}from"../chunks/BIamEY9R.js";import{p as nt,s as Z,i as lt,u as vt,t as c,j as ct,l as $,w as ut,k as s,n as o,$ as xt,g as i,o as r,v as C,q as pt,h as ft}from"../chunks/CKz1wddi.js";import{s as v,e as ke,r as ye}from"../chunks/D-0He0oP.js";import{i as x}from"../chunks/UcwTNXwS.js";import{e as z,s as k,i as T,a as H}from"../chunks/Cd6PzdMy.js";import{h as mt}from"../chunks/DaMT-gUQ.js";import{P as gt}from"../chunks/DmucY2RS.js";import{P as _t}from"../chunks/CLPqTR47.js";import{B as ht}from"../chunks/D30dCoiI.js";import{s as Pe}from"../chunks/6bHC7mIq.js";var bt=l('<meta name="description"/>'),wt=l('<img class="h-24 w-24 rounded-full bg-accent object-cover object-top ring-4 ring-border sm:h-28 sm:w-28"/>'),kt=l('<div class="flex h-24 w-24 items-center justify-center rounded-full text-2xl font-bold text-white ring-4 ring-white/30 sm:h-28 sm:w-28"> </div>'),yt=l('<span class="inline-flex items-center rounded-md px-2.5 py-0.5 text-xs font-bold uppercase tracking-wide text-white"> </span>'),Pt=l('<p class="mt-1 text-sm text-muted-foreground"> </p>'),jt=l('<p class="mt-1 text-sm italic text-muted-foreground"> </p>'),Ct=l('<span class="opacity-70"> </span>'),Ht=l('<span class="inline-flex h-5 items-center rounded bg-accent px-1.5 text-[10px] font-bold text-muted-foreground"> </span>'),Mt=l('<p class="mt-1.5 flex flex-wrap items-center gap-1.5 text-sm text-muted-foreground"><span class="font-medium text-foreground"> </span> <!> <!></p>'),At=l('<a target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-white px-2.5 py-1 text-xs font-medium text-foreground shadow-sm transition-colors hover:border-primary hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg> Profil officiel AN</a>'),Bt=l('<a class="inline-flex items-center gap-1.5 rounded-md border border-border bg-white px-2.5 py-1 text-xs font-medium text-muted-foreground shadow-sm transition-colors hover:border-primary hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> E-mail</a>'),Et=l('<a target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-white px-2.5 py-1 text-xs font-medium text-muted-foreground shadow-sm transition-colors hover:border-primary hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.744l7.73-8.835L1.254 2.25H8.08l4.259 5.63 5.905-5.63zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg> </a>'),zt=l('<a target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-white px-2.5 py-1 text-xs font-medium text-muted-foreground shadow-sm transition-colors hover:border-primary hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg> Facebook</a>'),Tt=l('<a target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-white px-2.5 py-1 text-xs font-medium text-muted-foreground shadow-sm transition-colors hover:border-primary hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"></path></svg> Site web</a>'),qt=l('<div class="flex-1 px-4 py-3 text-center"><p class="text-2xl font-extrabold tabular-nums text-foreground"> </p> <p class="mt-0.5 text-[10px] uppercase tracking-wider text-muted-foreground"> </p></div>'),Lt=l('<div class="flex-1 px-4 py-3 text-center"><p class="text-[10px] uppercase tracking-wider text-muted-foreground">En fonction depuis</p> <p class="mt-1 text-sm font-bold text-foreground"> </p></div>'),Ut=l('<div class="group relative flex items-center gap-3"><span class="w-28 shrink-0 cursor-help text-[11px] uppercase tracking-wide text-muted-foreground underline decoration-dotted decoration-muted-foreground/40 underline-offset-2"> </span> <div class="flex-1 overflow-hidden rounded-full bg-background" style="height: 8px;"><div class="h-full rounded-full"></div></div> <span class="w-8 shrink-0 text-right text-xs font-bold tabular-nums text-foreground"> </span> <div class="pointer-events-none absolute bottom-full left-0 z-10 mb-2 hidden w-56 rounded-md bg-foreground px-3 py-2 text-xs leading-snug text-background shadow-lg group-hover:block"> </div></div>'),Dt=l('<div class="border-t border-border/70 px-4 py-3.5"><div class="grid grid-cols-1 gap-2.5 sm:grid-cols-3"></div></div>'),Ft=l(' <span class="ml-1 opacity-60"> </span>',1),Nt=l('<div class="rounded-xl border border-border bg-white p-5 shadow-sm"><h3 class="mb-3 text-xs font-semibold uppercase tracking-widest text-muted-foreground">Thématiques</h3> <div class="flex flex-wrap gap-1.5"></div></div>'),Rt=l('<img class="h-8 w-8 shrink-0 rounded-full bg-accent object-cover object-top"/>'),St=l('<div class="flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-xs font-semibold text-white"> </div>'),Vt=l('<span class="mt-0.5 inline-block rounded-sm px-1.5 py-px text-[9px] font-bold uppercase tracking-wide text-white"> </span>'),Wt=l('<li class="flex items-center gap-3"><!> <div class="min-w-0 flex-1"><a class="block truncate text-xs font-semibold text-foreground hover:text-primary hover:underline"> </a> <!></div> <span class="shrink-0 text-xs font-bold tabular-nums text-primary"> </span></li>'),Gt=l('<div class="rounded-xl border border-border bg-white p-5 shadow-sm"><h3 class="mb-4 text-xs font-semibold uppercase tracking-widest text-muted-foreground">Co-signataires fréquents</h3> <ol class="flex flex-col gap-3"></ol></div>'),It=l('<div class="mx-auto max-w-5xl px-4 py-8"><div class="mb-8 overflow-hidden rounded-2xl border border-border bg-white shadow-sm"><div class="h-1.5 w-full"></div> <div class="p-6 sm:p-8"><div class="flex flex-col gap-5 sm:flex-row sm:items-start"><div class="shrink-0"><!></div> <div class="min-w-0 flex-1"><div class="flex flex-wrap items-center gap-2"><h1 class="text-2xl font-extrabold tracking-tight text-foreground sm:text-3xl"> </h1> <!></div> <!> <!> <!> <div class="mt-4 flex flex-wrap items-center gap-2"><!> <!> <!> <!> <!></div></div></div> <div class="mt-6 overflow-hidden rounded-xl border border-border/70 bg-accent/20"><div class="flex divide-x divide-border/70"><div class="flex-1 px-4 py-3 text-center"><p class="text-2xl font-extrabold tabular-nums text-foreground"> </p> <p class="mt-0.5 text-[10px] uppercase tracking-wider text-muted-foreground"> </p></div> <!> <!></div> <!></div></div></div> <div class="grid grid-cols-1 gap-8 lg:grid-cols-[1fr_240px]"><section><h2 class="mb-4 text-xs font-semibold uppercase tracking-widest text-muted-foreground"> </h2> <div class="flex flex-col gap-3"></div> <!></section> <aside class="flex flex-col gap-5"><!> <!></aside></div></div>');function aa(je,a){nt(a,!0);const q=10;let A=Z(1),ee=Z(!1),L=Z(lt([]));vt(()=>{$(L,a.data.cosignataires.map(()=>!1),!0)});const te=C(()=>{var t;return(t=a.data.dep)!=null&&t.photo?`https://www2.assemblee-nationale.fr/static/tribun/17/photos/${a.data.dep.photo}`:null});function U(t){return t!=null?Math.round(t*100):null}const ae=C(()=>{var t,e,d;return[{label:"Participation",value:U((t=a.data.dep)==null?void 0:t.score_participation),title:"Taux de présence aux votes en séance plénière"},{label:"Spécialité",value:U((e=a.data.dep)==null?void 0:e.score_participation_specialite),title:"Participation dans les votes de sa spécialité thématique"},{label:"Loyauté",value:U((d=a.data.dep)==null?void 0:d.score_loyaute),title:"Taux de votes en accord avec la position de son groupe politique"}].filter(f=>f.value!=null)}),Ce=C(()=>a.data.name.split(" ").map(t=>t[0]).join("").slice(0,2).toUpperCase());function He(t){return t?new Date(t).toLocaleDateString("fr-FR",{year:"numeric",month:"long"}):""}const D=C(()=>{var t;return((t=a.data.groupe)==null?void 0:t.couleur)??"#6b7280"}),re=C(()=>Math.ceil(a.data.totalPosts/q)),Me=C(()=>a.data.posts.slice((i(A)-1)*q,i(A)*q));var F=It();mt("1i27nau",t=>{var e=bt();c(()=>k(e,"content",`Profil de ${a.data.name??""}, député·e à l'Assemblée nationale. ${a.data.totalPosts??""} propositions de loi.`)),ut(()=>{xt.title=`${a.data.name??""} | Assemblée Facile`}),n(t,e)});var N=o(F),oe=o(N),de=s(oe,2),R=o(de),S=o(R),Ae=o(S);{var Be=t=>{var e=wt();c(()=>{k(e,"src",i(te)),k(e,"alt",a.data.name)}),ke("error",e,()=>{$(ee,!0)}),ye(e),n(t,e)},Ee=t=>{var e=kt(),d=o(e,!0);r(e),c(()=>{H(e,`background-color: ${i(D)??""};`),v(d,i(Ce))}),n(t,e)};x(Ae,t=>{i(te)&&!i(ee)?t(Be):t(Ee,!1)})}r(S);var se=s(S,2),V=o(se),W=o(V),ze=o(W,!0);r(W);var Te=s(W,2);{var qe=t=>{var e=yt(),d=o(e,!0);r(e),c(()=>{H(e,`background-color: ${a.data.groupe.couleur??""};`),v(d,a.data.groupe.abrev)}),n(t,e)};x(Te,t=>{a.data.groupe&&t(qe)})}r(V);var ie=s(V,2);{var Le=t=>{var e=Pt(),d=o(e,!0);r(e),c(()=>v(d,a.data.groupe.nom)),n(t,e)};x(ie,t=>{a.data.groupe&&t(Le)})}var ne=s(ie,2);{var Ue=t=>{var e=jt(),d=o(e,!0);r(e),c(()=>v(d,a.data.dep.profession)),n(t,e)};x(ne,t=>{var e;(e=a.data.dep)!=null&&e.profession&&t(Ue)})}var le=s(ne,2);{var De=t=>{var e=Mt(),d=o(e),f=o(d,!0);r(d);var u=s(d,2);{var g=p=>{var h=Ct(),b=o(h);r(h),c(()=>v(b,`— ${a.data.dep.circo??""}e circonscription`)),n(p,h)};x(u,p=>{a.data.dep.circo&&p(g)})}var _=s(u,2);{var y=p=>{var h=Ht(),b=o(h,!0);r(h),c(()=>v(b,a.data.dep.departement_code)),n(p,h)};x(_,p=>{a.data.dep.departement_code&&p(y)})}r(e),c(()=>v(f,a.data.dep.departement_nom)),n(t,e)};x(le,t=>{var e;(e=a.data.dep)!=null&&e.departement_nom&&t(De)})}var ve=s(le,2),ce=o(ve);{var Fe=t=>{var e=At();c(()=>k(e,"href",`https://www.assemblee-nationale.fr/dyn/deputes/${a.data.dep.id??""}`)),n(t,e)};x(ce,t=>{a.data.dep&&t(Fe)})}var ue=s(ce,2);{var Ne=t=>{var e=Bt();c(()=>k(e,"href",`mailto:${a.data.dep.mail??""}`)),n(t,e)};x(ue,t=>{var e;(e=a.data.dep)!=null&&e.mail&&t(Ne)})}var xe=s(ue,2);{var Re=t=>{var e=Et(),d=s(o(e));r(e),c(f=>{k(e,"href",`https://twitter.com/${f??""}`),v(d,` ${a.data.dep.twitter??""}`)},[()=>a.data.dep.twitter.replace("@","")]),n(t,e)};x(xe,t=>{var e;(e=a.data.dep)!=null&&e.twitter&&t(Re)})}var pe=s(xe,2);{var Se=t=>{var e=zt();c(d=>k(e,"href",d),[()=>a.data.dep.facebook.startsWith("http")?a.data.dep.facebook:`https://facebook.com/${a.data.dep.facebook}`]),n(t,e)};x(pe,t=>{var e;(e=a.data.dep)!=null&&e.facebook&&t(Se)})}var Ve=s(pe,2);{var We=t=>{var e=Tt();c(d=>k(e,"href",d),[()=>a.data.dep.website.startsWith("http")?a.data.dep.website:`https://${a.data.dep.website}`]),n(t,e)};x(Ve,t=>{var e;(e=a.data.dep)!=null&&e.website&&t(We)})}r(ve),r(se),r(R);var fe=s(R,2),G=o(fe),I=o(G),J=o(I),Ge=o(J,!0);r(J);var me=s(J,2),Ie=o(me);r(me),r(I);var ge=s(I,2);{var Je=t=>{var e=qt(),d=o(e),f=o(d,!0);r(d);var u=s(d,2),g=o(u);r(u),r(e),c(()=>{v(f,a.data.dep.nombre_mandats),v(g,`Mandat${a.data.dep.nombre_mandats>1?"s":""}`)}),n(t,e)};x(ge,t=>{var e;((e=a.data.dep)==null?void 0:e.nombre_mandats)!=null&&t(Je)})}var Ke=s(ge,2);{var Oe=t=>{var e=Lt(),d=s(o(e),2),f=o(d,!0);r(d),r(e),c(u=>v(f,u),[()=>He(a.data.dep.date_prise_fonction)]),n(t,e)};x(Ke,t=>{var e;(e=a.data.dep)!=null&&e.date_prise_fonction&&t(Oe)})}r(G);var Qe=s(G,2);{var Xe=t=>{var e=Dt(),d=o(e);z(d,21,()=>i(ae),T,(f,u)=>{var g=Ut(),_=o(g),y=o(_,!0);r(_);var p=s(_,2),h=o(p);r(p);var b=s(p,2),P=o(b);r(b);var j=s(b,2),M=o(j,!0);r(j),r(g),c(()=>{k(_,"title",i(u).title),v(y,i(u).label),H(h,`width: ${i(u).value??""}%; background-color: ${i(D)??""};`),v(P,`${i(u).value??""}%`),v(M,i(u).title)}),n(f,g)}),r(d),r(e),n(t,e)};x(Qe,t=>{i(ae).length&&t(Xe)})}r(fe),r(de),r(N);var _e=s(N,2),K=o(_e),O=o(K),Ye=o(O);r(O);var Q=s(O,2);z(Q,21,()=>i(Me),T,(t,e)=>{gt(t,{get post(){return i(e)}})}),r(Q);var Ze=s(Q,2);{var $e=t=>{_t(t,{get pageNum(){return i(A)},get totalPages(){return i(re)},onPageChange:e=>{$(A,e,!0)}})};x(Ze,t=>{i(re)>1&&t($e)})}r(K);var he=s(K,2),be=o(he);{var et=t=>{var e=Nt(),d=s(o(e),2);z(d,21,()=>a.data.topTags,T,(f,u)=>{let g=()=>i(u).tag,_=()=>i(u).count;{let y=C(()=>Pe(g()));ht(f,{variant:"secondary",class:"rounded-full text-xs",get href(){return`/tags/${i(y)??""}`},children:(p,h)=>{pt();var b=Ft(),P=ft(b),j=s(P),M=o(j,!0);r(j),c(()=>{v(P,`${g()??""} `),v(M,_())}),n(p,b)},$$slots:{default:!0}})}}),r(d),r(e),n(t,e)};x(be,t=>{a.data.topTags.length&&t(et)})}var tt=s(be,2);{var at=t=>{var e=Gt(),d=s(o(e),2);z(d,21,()=>a.data.cosignataires,T,(f,u,g)=>{let _=()=>i(u).name,y=()=>i(u).groupeAbrev,p=()=>i(u).couleur,h=()=>i(u).photo,b=()=>i(u).count;var P=Wt(),j=o(P);{var M=w=>{var m=Rt();c(()=>{k(m,"src",`https://www2.assemblee-nationale.fr/static/tribun/17/photos/${h()??""}`),k(m,"alt",_())}),ke("error",m,()=>{i(L)[g]=!0}),ye(m),n(w,m)},rt=w=>{var m=St(),Y=o(m,!0);r(m),c(E=>{H(m,`background-color: ${p()??"#9ca3af"??""};`),v(Y,E)},[()=>{var E;return((E=_().split(" ").pop())==null?void 0:E[0])??"?"}]),n(w,m)};x(j,w=>{h()&&!i(L)[g]?w(M):w(rt,!1)})}var X=s(j,2),B=o(X),ot=o(B,!0);r(B);var dt=s(B,2);{var st=w=>{var m=Vt(),Y=o(m,!0);r(m),c(()=>{H(m,`background-color: ${p()??"#9ca3af"??""};`),v(Y,y())}),n(w,m)};x(dt,w=>{y()&&w(st)})}r(X);var we=s(X,2),it=o(we,!0);r(we),r(P),c(w=>{k(B,"href",`/auteurs/${w??""}`),v(ot,_()),v(it,b())},[()=>Pe(_())]),n(f,P)}),r(d),r(e),n(t,e)};x(tt,t=>{a.data.cosignataires.length&&t(at)})}r(he),r(_e),r(F),c(()=>{H(oe,`background-color: ${i(D)??""};`),v(ze,a.data.name),v(Ge,a.data.totalPosts),v(Ie,`Proposition${a.data.totalPosts>1?"s":""}`),v(Ye,`Propositions (${a.data.totalPosts??""})`)}),n(je,F),ct()}export{aa as component};
