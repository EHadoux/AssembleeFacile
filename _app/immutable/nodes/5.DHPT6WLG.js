import{a as n,f as l}from"../chunks/Bn8D5vT6.js";import{p as vt,s as $,i as ct,u as ut,t as u,j as xt,l as ee,w as pt,k as s,n as o,$ as mt,g as i,o as r,v as M,q as ke,h as ft}from"../chunks/COYP6b2A.js";import{s as v,e as ye,r as Pe}from"../chunks/BY0ZPMYX.js";import{i as x}from"../chunks/7CZWphsi.js";import{e as q,s as k,i as U,a as y}from"../chunks/D1IRmeBa.js";import{h as gt}from"../chunks/D14Rd2XW.js";import{P as _t}from"../chunks/Mmcod3g0.js";import{P as ht}from"../chunks/-DSR-H2g.js";import{B as bt}from"../chunks/CahPlO_V.js";import{s as je}from"../chunks/CcKBoEeN.js";var wt=l('<meta name="description"/>'),kt=l('<img class="h-24 w-24 rounded-full bg-accent object-cover object-top ring-4 ring-border sm:h-28 sm:w-28"/>'),yt=l('<div class="flex h-24 w-24 items-center justify-center rounded-full text-2xl font-bold text-white ring-4 ring-white/30 sm:h-28 sm:w-28"> </div>'),Pt=l('<span class="inline-flex items-center rounded-md px-2.5 py-0.5 text-xs font-bold uppercase tracking-wide text-white"> </span>'),jt=l('<p class="mt-1 text-sm text-muted-foreground"> </p>'),Ct=l('<p class="mt-1 text-sm italic text-muted-foreground"> </p>'),Ht=l('<span class="opacity-70"> </span>'),Mt=l('<span class="inline-flex h-5 items-center rounded bg-accent px-1.5 text-[10px] font-bold text-muted-foreground"> </span>'),At=l('<p class="mt-1.5 flex flex-wrap items-center gap-1.5 text-sm text-muted-foreground"><span class="font-medium text-foreground"> </span> <!> <!></p>'),Bt=l('<a target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-white px-2.5 py-1 text-xs font-medium text-foreground shadow-sm transition-colors hover:border-primary hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg> Profil officiel AN</a>'),Et=l('<a class="inline-flex items-center gap-1.5 rounded-md border border-border bg-white px-2.5 py-1 text-xs font-medium text-muted-foreground shadow-sm transition-colors hover:border-primary hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> E-mail</a>'),zt=l('<a target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-white px-2.5 py-1 text-xs font-medium text-muted-foreground shadow-sm transition-colors hover:border-primary hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-4.714-6.231-5.401 6.231H2.744l7.73-8.835L1.254 2.25H8.08l4.259 5.63 5.905-5.63zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg> </a>'),Tt=l('<a target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-white px-2.5 py-1 text-xs font-medium text-muted-foreground shadow-sm transition-colors hover:border-primary hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg> Facebook</a>'),qt=l('<a target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1.5 rounded-md border border-border bg-white px-2.5 py-1 text-xs font-medium text-muted-foreground shadow-sm transition-colors hover:border-primary hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"></path></svg> Site web</a>'),Ut=l('<div class="mx-auto mt-2 inline-flex items-center gap-1 rounded-full px-2 py-0.5"><span class="text-xs font-bold tabular-nums"> </span> <span class="text-[10px] text-muted-foreground"> </span></div>'),Ft=l('<div class="flex-1 px-4 py-4 text-center"><p class="text-3xl font-black tabular-nums"> </p> <p class="mt-0.5 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground"> </p></div>'),Lt=l('<div class="flex-1 px-4 py-4 text-center"><p class="text-3xl font-black tabular-nums"> </p> <p class="mt-0.5 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground">En fonction depuis</p></div>'),Nt=l('<div class="group relative flex items-center gap-3"><span class="w-28 shrink-0 cursor-help text-[11px] uppercase tracking-wide text-muted-foreground underline decoration-dotted decoration-muted-foreground/40 underline-offset-2"> </span> <div class="flex-1 overflow-hidden rounded-full bg-background" style="height: 8px;"><div class="h-full rounded-full"></div></div> <span class="w-8 shrink-0 text-right text-xs font-bold tabular-nums text-foreground"> </span> <div class="pointer-events-none absolute bottom-full left-0 z-10 mb-2 hidden w-56 rounded-md bg-foreground px-3 py-2 text-xs leading-snug text-background shadow-lg group-hover:block"> </div></div>'),Vt=l('<div class="border-t border-border/70 px-4 py-3.5"><div class="grid grid-cols-1 gap-2.5 sm:grid-cols-3"></div></div>'),Rt=l(' <span class="ml-1 opacity-60"> </span>',1),St=l('<div class="rounded-xl border border-border bg-white p-5 shadow-sm"><h3 class="mb-3 text-xs font-semibold uppercase tracking-widest text-muted-foreground">Thématiques</h3> <div class="flex flex-wrap gap-1.5"></div></div>'),Wt=l('<img class="h-8 w-8 shrink-0 rounded-full bg-accent object-cover object-top"/>'),Dt=l('<div class="flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-xs font-semibold text-white"> </div>'),Gt=l('<span class="mt-0.5 inline-block rounded-sm px-1.5 py-px text-[9px] font-bold uppercase tracking-wide text-white"> </span>'),Yt=l('<li class="flex items-center gap-3"><!> <div class="min-w-0 flex-1"><a class="block truncate text-xs font-semibold text-foreground hover:text-primary hover:underline"> </a> <!></div> <span class="shrink-0 text-xs font-bold tabular-nums text-primary"> </span></li>'),It=l('<div class="rounded-xl border border-border bg-white p-5 shadow-sm"><h3 class="mb-4 text-xs font-semibold uppercase tracking-widest text-muted-foreground">Co-signataires fréquents</h3> <ol class="flex flex-col gap-3"></ol></div>'),Jt=l('<div class="mx-auto max-w-5xl px-4 py-8"><div class="mb-8 overflow-hidden rounded-2xl border border-border bg-white shadow-sm"><div class="h-1.5 w-full"></div> <div class="p-6 sm:p-8"><div class="flex flex-col gap-5 sm:flex-row sm:items-start"><div class="shrink-0"><!></div> <div class="min-w-0 flex-1"><div class="flex flex-wrap items-center gap-2"><h1 class="text-2xl font-extrabold tracking-tight text-foreground sm:text-3xl"> </h1> <!></div> <!> <!> <!> <div class="mt-4 flex flex-wrap items-center gap-2"><!> <!> <!> <!> <!></div></div></div> <div class="mt-6 overflow-hidden rounded-xl border border-border/70 bg-accent/20"><div class="flex divide-x divide-border/70"><div class="flex-1 px-4 py-4 text-center"><p class="text-3xl font-black tabular-nums"> </p> <p class="mt-0.5 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground"> </p> <!></div> <!> <!></div> <!></div></div></div> <div class="grid grid-cols-1 gap-8 lg:grid-cols-[1fr_240px]"><section><h2 class="mb-4 text-xs font-semibold uppercase tracking-widest text-muted-foreground"> </h2> <div class="flex flex-col gap-3"></div> <!></section> <aside class="flex flex-col gap-5"><!> <!></aside></div></div>');function oa(Ce,a){vt(a,!0);const F=10;let B=$(1),te=$(!1),L=$(ct([]));ut(()=>{ee(L,a.data.cosignataires.map(()=>!1),!0)});const ae=M(()=>{var t;return(t=a.data.dep)!=null&&t.photo?`https://www2.assemblee-nationale.fr/static/tribun/17/photos/${a.data.dep.photo}`:null});function N(t){return t!=null?Math.round(t*100):null}const re=M(()=>{var t,e,d;return[{label:"Participation",value:N((t=a.data.dep)==null?void 0:t.score_participation),title:"Taux de présence aux votes en séance plénière"},{label:"Spécialité",value:N((e=a.data.dep)==null?void 0:e.score_participation_specialite),title:"Participation dans les votes de sa spécialité thématique"},{label:"Loyauté",value:N((d=a.data.dep)==null?void 0:d.score_loyaute),title:"Taux de votes en accord avec la position de son groupe politique"}].filter(p=>p.value!=null)}),He=M(()=>a.data.name.split(" ").map(t=>t[0]).join("").slice(0,2).toUpperCase()),P=M(()=>{var t;return((t=a.data.groupe)==null?void 0:t.couleur)??"#6b7280"}),oe=M(()=>Math.ceil(a.data.totalPosts/F)),Me=M(()=>a.data.posts.slice((i(B)-1)*F,i(B)*F));var V=Jt();gt("1i27nau",t=>{var e=wt();u(()=>k(e,"content",`Profil de ${a.data.name??""}, député·e à l'Assemblée nationale. ${a.data.totalPosts??""} propositions de loi.`)),pt(()=>{mt.title=`${a.data.name??""} | Assemblée Facile`}),n(t,e)});var R=o(V),de=o(R),se=s(de,2),S=o(se),W=o(S),Ae=o(W);{var Be=t=>{var e=kt();u(()=>{k(e,"src",i(ae)),k(e,"alt",a.data.name)}),ye("error",e,()=>{ee(te,!0)}),Pe(e),n(t,e)},Ee=t=>{var e=yt(),d=o(e,!0);r(e),u(()=>{y(e,`background-color: ${i(P)??""};`),v(d,i(He))}),n(t,e)};x(Ae,t=>{i(ae)&&!i(te)?t(Be):t(Ee,!1)})}r(W);var ie=s(W,2),D=o(ie),G=o(D),ze=o(G,!0);r(G);var Te=s(G,2);{var qe=t=>{var e=Pt(),d=o(e,!0);r(e),u(()=>{y(e,`background-color: ${a.data.groupe.couleur??""};`),v(d,a.data.groupe.abrev)}),n(t,e)};x(Te,t=>{a.data.groupe&&t(qe)})}r(D);var ne=s(D,2);{var Ue=t=>{var e=jt(),d=o(e,!0);r(e),u(()=>v(d,a.data.groupe.nom)),n(t,e)};x(ne,t=>{a.data.groupe&&t(Ue)})}var le=s(ne,2);{var Fe=t=>{var e=Ct(),d=o(e,!0);r(e),u(()=>v(d,a.data.dep.profession)),n(t,e)};x(le,t=>{var e;(e=a.data.dep)!=null&&e.profession&&t(Fe)})}var ve=s(le,2);{var Le=t=>{var e=At(),d=o(e),p=o(d,!0);r(d);var c=s(d,2);{var f=m=>{var h=Ht(),b=o(h);r(h),u(()=>v(b,`— ${a.data.dep.circo??""}e circonscription`)),n(m,h)};x(c,m=>{a.data.dep.circo&&m(f)})}var _=s(c,2);{var j=m=>{var h=Mt(),b=o(h,!0);r(h),u(()=>v(b,a.data.dep.departement_code)),n(m,h)};x(_,m=>{a.data.dep.departement_code&&m(j)})}r(e),u(()=>v(p,a.data.dep.departement_nom)),n(t,e)};x(ve,t=>{var e;(e=a.data.dep)!=null&&e.departement_nom&&t(Le)})}var ce=s(ve,2),ue=o(ce);{var Ne=t=>{var e=Bt();u(()=>k(e,"href",`https://www.assemblee-nationale.fr/dyn/deputes/${a.data.dep.id??""}`)),n(t,e)};x(ue,t=>{a.data.dep&&t(Ne)})}var xe=s(ue,2);{var Ve=t=>{var e=Et();u(()=>k(e,"href",`mailto:${a.data.dep.mail??""}`)),n(t,e)};x(xe,t=>{var e;(e=a.data.dep)!=null&&e.mail&&t(Ve)})}var pe=s(xe,2);{var Re=t=>{var e=zt(),d=s(o(e));r(e),u(p=>{k(e,"href",`https://twitter.com/${p??""}`),v(d,` ${a.data.dep.twitter??""}`)},[()=>a.data.dep.twitter.replace("@","")]),n(t,e)};x(pe,t=>{var e;(e=a.data.dep)!=null&&e.twitter&&t(Re)})}var me=s(pe,2);{var Se=t=>{var e=Tt();u(d=>k(e,"href",d),[()=>a.data.dep.facebook.startsWith("http")?a.data.dep.facebook:`https://facebook.com/${a.data.dep.facebook}`]),n(t,e)};x(me,t=>{var e;(e=a.data.dep)!=null&&e.facebook&&t(Se)})}var We=s(me,2);{var De=t=>{var e=qt();u(d=>k(e,"href",d),[()=>a.data.dep.website.startsWith("http")?a.data.dep.website:`https://${a.data.dep.website}`]),n(t,e)};x(We,t=>{var e;(e=a.data.dep)!=null&&e.website&&t(De)})}r(ce),r(ie),r(S);var fe=s(S,2),Y=o(fe),I=o(Y),E=o(I),Ge=o(E,!0);r(E);var J=s(E,2),Ye=o(J);r(J);var Ie=s(J,2);{var Je=t=>{var e=Ut(),d=o(e),p=o(d);r(d);var c=s(d,2),f=o(c);r(c),r(e),u(()=>{y(e,`background-color: ${i(P)??""}18;`),y(d,`color: ${i(P)??""};`),v(p,`+${a.data.counts.count_cosig??""}`),v(f,`cosignée${a.data.counts.count_cosig>1?"s":""}`)}),n(t,e)};x(Ie,t=>{a.data.counts.count_cosig>0&&t(Je)})}r(I);var ge=s(I,2);{var Ke=t=>{var e=Ft(),d=o(e),p=o(d,!0);r(d);var c=s(d,2),f=o(c);r(c),r(e),u(()=>{y(d,`color: ${i(P)??""};`),v(p,a.data.dep.nombre_mandats),v(f,`Mandat${a.data.dep.nombre_mandats>1?"s":""}`)}),n(t,e)};x(ge,t=>{var e;((e=a.data.dep)==null?void 0:e.nombre_mandats)!=null&&t(Ke)})}var Oe=s(ge,2);{var Qe=t=>{var e=Lt(),d=o(e),p=o(d,!0);r(d),ke(2),r(e),u(c=>{y(d,`color: ${i(P)??""};`),v(p,c)},[()=>new Date(a.data.dep.date_prise_fonction).getFullYear()]),n(t,e)};x(Oe,t=>{var e;(e=a.data.dep)!=null&&e.date_prise_fonction&&t(Qe)})}r(Y);var Xe=s(Y,2);{var Ze=t=>{var e=Vt(),d=o(e);q(d,21,()=>i(re),U,(p,c)=>{var f=Nt(),_=o(f),j=o(_,!0);r(_);var m=s(_,2),h=o(m);r(m);var b=s(m,2),C=o(b);r(b);var H=s(b,2),A=o(H,!0);r(H),r(f),u(()=>{k(_,"title",i(c).title),v(j,i(c).label),y(h,`width: ${i(c).value??""}%; background-color: ${i(P)??""};`),v(C,`${i(c).value??""}%`),v(A,i(c).title)}),n(p,f)}),r(d),r(e),n(t,e)};x(Xe,t=>{i(re).length&&t(Ze)})}r(fe),r(se),r(R);var _e=s(R,2),K=o(_e),O=o(K),$e=o(O);r(O);var Q=s(O,2);q(Q,21,()=>i(Me),U,(t,e)=>{_t(t,{get post(){return i(e)}})}),r(Q);var et=s(Q,2);{var tt=t=>{ht(t,{get pageNum(){return i(B)},get totalPages(){return i(oe)},onPageChange:e=>{ee(B,e,!0)}})};x(et,t=>{i(oe)>1&&t(tt)})}r(K);var he=s(K,2),be=o(he);{var at=t=>{var e=St(),d=s(o(e),2);q(d,21,()=>a.data.topTags,U,(p,c)=>{let f=()=>i(c).tag,_=()=>i(c).count;{let j=M(()=>je(f()));bt(p,{variant:"secondary",class:"rounded-full text-xs",get href(){return`/tags/${i(j)??""}`},children:(m,h)=>{ke();var b=Rt(),C=ft(b),H=s(C),A=o(H,!0);r(H),u(()=>{v(C,`${f()??""} `),v(A,_())}),n(m,b)},$$slots:{default:!0}})}}),r(d),r(e),n(t,e)};x(be,t=>{a.data.topTags.length&&t(at)})}var rt=s(be,2);{var ot=t=>{var e=It(),d=s(o(e),2);q(d,21,()=>a.data.cosignataires,U,(p,c,f)=>{let _=()=>i(c).name,j=()=>i(c).groupeAbrev,m=()=>i(c).couleur,h=()=>i(c).photo,b=()=>i(c).count;var C=Yt(),H=o(C);{var A=w=>{var g=Wt();u(()=>{k(g,"src",`https://www2.assemblee-nationale.fr/static/tribun/17/photos/${h()??""}`),k(g,"alt",_())}),ye("error",g,()=>{i(L)[f]=!0}),Pe(g),n(w,g)},dt=w=>{var g=Dt(),Z=o(g,!0);r(g),u(T=>{y(g,`background-color: ${m()??"#9ca3af"??""};`),v(Z,T)},[()=>{var T;return((T=_().split(" ").pop())==null?void 0:T[0])??"?"}]),n(w,g)};x(H,w=>{h()&&!i(L)[f]?w(A):w(dt,!1)})}var X=s(H,2),z=o(X),st=o(z,!0);r(z);var it=s(z,2);{var nt=w=>{var g=Gt(),Z=o(g,!0);r(g),u(()=>{y(g,`background-color: ${m()??"#9ca3af"??""};`),v(Z,j())}),n(w,g)};x(it,w=>{j()&&w(nt)})}r(X);var we=s(X,2),lt=o(we,!0);r(we),r(C),u(w=>{k(z,"href",`/auteurs/${w??""}`),v(st,_()),v(lt,b())},[()=>je(_())]),n(p,C)}),r(d),r(e),n(t,e)};x(rt,t=>{a.data.cosignataires.length&&t(ot)})}r(he),r(_e),r(V),u(()=>{y(de,`background-color: ${i(P)??""};`),v(ze,a.data.name),y(E,`color: ${i(P)??""};`),v(Ge,a.data.counts.count_auteur),v(Ye,`Proposition${a.data.counts.count_auteur>1?"s":""} déposée${a.data.counts.count_auteur>1?"s":""}`),v($e,`Propositions (${a.data.totalPosts??""})`)}),n(Ce,V),xt()}export{oa as component};
