import{a as l,f as p,c as de}from"../chunks/DF4w80af.js";import{o as ue}from"../chunks/DgmVhwtX.js";import{p as ce,i as pe,t as u,g as e,j as ve,m as me,k as n,l as P,$ as fe,o as s,q as r,s as Q,v as G,h as xe}from"../chunks/CRUjc5WR.js";import{s as c,e as ge,r as he}from"../chunks/C0SVVO_I.js";import{i as R}from"../chunks/BAfNuo6E.js";import{s as h,r as _e,e as S,i as T,a as _}from"../chunks/CcHk_myo.js";import{h as be}from"../chunks/B5lYpEoZ.js";import{b as we}from"../chunks/DrksoVv7.js";var ye=p('<meta name="description"/>'),ke=p('<p class="py-8 text-center text-sm text-muted-foreground"> </p>'),je=p('<img loading="lazy" class="h-11 w-11 rounded-full bg-accent object-cover object-top"/>'),Ae=p('<div class="flex h-11 w-11 items-center justify-center rounded-full text-[13px] font-bold text-white"> </div>'),Le=p('<a class="group flex flex-col items-center gap-1.5 rounded-xl p-2 text-center transition-colors duration-100 hover:bg-accent/60"><div class="relative shrink-0"><!> <span class="absolute -bottom-0.5 -right-0.5 flex h-[18px] min-w-[18px] items-center justify-center rounded-full px-1 text-[9px] font-extrabold leading-none text-white"> </span></div> <span class="w-full truncate text-[10.5px] font-semibold leading-tight text-foreground/85 group-hover:text-primary"> </span></a>'),Ce=p('<section class="mb-7"><div class="mb-3 flex items-center gap-2"><span class="h-2.5 w-2.5 shrink-0 rounded-full"></span> <h2 class="text-xs font-bold uppercase tracking-widest text-foreground/80"> </h2> <span class="text-[11px] tabular-nums text-muted-foreground"> </span></div> <div class="grid grid-cols-4 gap-1 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-7 xl:grid-cols-8"></div></section>'),qe=p('<div class="mx-auto max-w-5xl px-4 py-8"><header class="mb-6"><div class="flex flex-col gap-3 sm:flex-row sm:items-end sm:justify-between"><div><h1 class="text-2xl font-extrabold tracking-tight text-foreground">Auteurs</h1> <p class="mt-1 text-sm text-muted-foreground"> </p></div> <div class="relative w-full sm:w-56"><svg class="pointer-events-none absolute left-2.5 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-muted-foreground/50" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg> <input type="search" placeholder="Filtrer par nom…" class="w-full rounded-lg border border-border bg-white py-1.5 pl-8 pr-3 text-sm text-foreground shadow-sm placeholder:text-muted-foreground/50 focus:border-primary/50 focus:outline-none focus:ring-1 focus:ring-primary/20"/></div></div></header> <!></div>');function De(V,x){ce(x,!0);let z=pe({}),v=Q(""),M=Q(1);ue(()=>{let t=1;const a=x.data.groupedList.length;function m(){t<a&&(t++,P(M,t,!0),requestAnimationFrame(m))}requestAnimationFrame(m)});const B=G(()=>x.data.groupedList.reduce((t,a)=>t+a.auteurs.length,0)),b=G(()=>e(v).trim()===""?x.data.groupedList:x.data.groupedList.map(t=>({...t,auteurs:t.auteurs.filter(a=>a.name.toLowerCase().includes(e(v).toLowerCase()))})).filter(t=>t.auteurs.length>0)),W=G(()=>e(v).trim()!==""?e(b):e(b).slice(0,e(M)));var w=qe();be("1mqfhio",t=>{var a=ye();u(()=>h(a,"content",`${e(B)??""} députés ayant déposé ou co-signé des propositions de loi à l'Assemblée nationale.`)),me(()=>{fe.title="Auteurs des propositions | Assemblée Facile"}),l(t,a)});var y=s(w),E=s(y),k=s(E),N=n(s(k),2),X=s(N);r(N),r(k);var U=n(k,2),D=n(s(U),2);_e(D),r(U),r(E),r(y);var Y=n(y,2);{var Z=t=>{var a=ke(),m=s(a);r(a),u(()=>c(m,`Aucun auteur trouvé pour « ${e(v)??""} ».`)),l(t,a)},$=t=>{var a=de(),m=xe(a);S(m,17,()=>e(W),T,(ee,d)=>{var j=Ce(),A=s(j),H=s(A),L=n(H,2),te=s(L,!0);r(L);var I=n(L,2),re=s(I);r(I),r(A);var J=n(A,2);S(J,21,()=>e(d).auteurs,T,(se,i)=>{var g=Le(),C=s(g),K=s(C);{var ae=f=>{var o=je();u(()=>{h(o,"src",`https://www2.assemblee-nationale.fr/static/tribun/17/photos/${e(i).photo??""}`),h(o,"alt",e(i).name),_(o,`outline: 2px solid ${e(d).couleur??""}30; outline-offset: 1px;`)}),ge("error",o,()=>{z[e(i).slug]=!0}),he(o),l(f,o)},oe=f=>{var o=Ae(),le=s(o,!0);r(o),u(F=>{_(o,`background-color: ${e(d).couleur??""};`),c(le,F)},[()=>e(i).name.split(" ").slice(0,2).map(F=>F[0]).join("").toUpperCase()]),l(f,o)};R(K,f=>{e(i).photo&&!z[e(i).slug]?f(ae):f(oe,!1)})}var q=n(K,2),ie=s(q,!0);r(q),r(C);var O=n(C,2),ne=s(O,!0);r(O),r(g),u(()=>{h(g,"href",`/auteurs/${e(i).slug??""}`),_(q,`background-color: ${e(d).couleur??""};`),c(ie,e(i).count),c(ne,e(i).name)}),l(se,g)}),r(J),r(j),u(()=>{_(H,`background-color: ${e(d).couleur??""};`),c(te,e(d).nom),c(re,`— ${e(d).auteurs.length??""}`)}),l(ee,j)}),l(t,a)};R(Y,t=>{e(b).length===0?t(Z):t($,!1)})}r(w),u(()=>c(X,`${e(B)??""} député(e)s ayant déposé ou co-signé des propositions de loi.`)),we(D,()=>e(v),t=>P(v,t)),l(V,w),ve()}export{De as component};
