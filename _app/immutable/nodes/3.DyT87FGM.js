import{a as n,f as d}from"../chunks/Bn8D5vT6.js";import{p as ce,s as Z,i as pe,u as xe,h as me,t as m,j as fe,k as o,l as F,m as ge,$ as be,n as r,o as e,q as he,g as s,v as _e}from"../chunks/COYP6b2A.js";import{s as c,e as L,r as we}from"../chunks/BY0ZPMYX.js";import{i as _}from"../chunks/7CZWphsi.js";import{e as V,i as G,s as H,a as I}from"../chunks/D1IRmeBa.js";import{h as ye}from"../chunks/D14Rd2XW.js";import{P as ke}from"../chunks/CqxtOI0W.js";import{s as Pe}from"../chunks/BTFNvwB4.js";var je=d(`<meta name="description" content="Retrouvez les propositions de loi déposées à l'Assemblée nationale, expliquées clairement."/>`),Ae=d('<a href="/page/2" class="text-xs font-medium text-primary hover:underline">Voir plus →</a>'),Ce=d('<div class="mt-8 flex justify-center"><a href="/page/2" class="rounded-lg border border-border bg-white px-6 py-2.5 text-sm font-medium text-foreground shadow-sm hover:border-primary hover:text-primary transition-colors">Page suivante →</a></div>'),qe=d('<img class="h-8 w-8 shrink-0 rounded-full bg-accent object-cover object-top"/>'),Te=d('<div class="flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-accent text-xs font-semibold text-muted-foreground"> </div>'),ze=d('<span class="mt-0.5 inline-block rounded-sm px-1.5 py-px text-[9px] font-bold uppercase tracking-wide text-white"> </span>'),Re=d('<li class="flex items-center gap-3"><span class="w-4 shrink-0 text-xs font-bold tabular-nums text-muted-foreground"></span> <!> <div class="min-w-0 flex-1"><a class="truncate text-xs font-semibold text-foreground hover:text-primary hover:underline"> </a> <!></div> <span class="shrink-0 text-xs font-bold tabular-nums text-primary"> </span></li>'),Se=d('<div class="flex items-center gap-2"><span role="presentation" class="w-14 shrink-0 truncate text-[11px] font-medium text-muted-foreground cursor-help underline decoration-dotted underline-offset-2"> </span> <div class="flex-1 overflow-hidden rounded-full bg-accent" style="height:5px;"><div class="h-full rounded-full"></div></div> <span class="w-6 shrink-0 text-right text-[11px] font-bold tabular-nums text-foreground"> </span></div>'),Be=d('<div class="pointer-events-none fixed z-50 -translate-x-1/2 -translate-y-full rounded-md bg-foreground px-2.5 py-1 text-xs font-semibold text-background shadow-lg"> </div>'),De=d('<section class="border-b border-border/50 bg-white py-12"><div class="mx-auto max-w-6xl px-4"><div class="max-w-2xl"><p class="mb-2 text-xs font-semibold uppercase tracking-widest text-primary opacity-80">17e législature</p> <h1 class="mb-4 text-4xl font-extrabold leading-tight tracking-tight text-foreground">Les propositions de loi,<br/> <span class="text-primary">expliquées clairement.</span></h1> <p class="text-base text-muted-foreground"> </p></div></div></section> <div class="mx-auto max-w-6xl px-4 py-8"><div class="grid grid-cols-1 gap-8 lg:grid-cols-[1fr_280px]"><section><div class="mb-5 flex items-baseline justify-between"><h2 class="text-sm font-semibold uppercase tracking-widest text-muted-foreground">Dernières propositions</h2> <!></div> <div class="flex flex-col gap-3"></div> <!></section> <aside class="flex flex-col gap-5"><div class="rounded-xl border border-border bg-white p-5 shadow-sm"><h3 class="mb-4 text-xs font-semibold uppercase tracking-widest text-muted-foreground">Top contributeurs</h3> <ol class="flex flex-col gap-3"></ol> <a href="/auteurs" class="mt-4 block text-center text-xs font-medium text-primary hover:underline">Tous les auteurs →</a></div> <div class="rounded-xl border border-border bg-white p-5 shadow-sm"><h3 class="mb-4 text-xs font-semibold uppercase tracking-widest text-muted-foreground">Propositions par groupe</h3> <div class="flex flex-col gap-2"></div></div></aside></div></div> <!>',1);function Ke($,u){ce(u,!0);let C=Z(pe([]));xe(()=>{F(C,u.data.topContributors.map(()=>!1),!0)});let f=Z(null);var J=De();ye("1uha8ag",a=>{var t=je();ge(()=>{be.title="Assemblée Facile — Propositions de loi en clair"}),n(a,t)});var q=me(J),K=r(q),M=r(K),N=o(r(M),4),ee=r(N);e(N),e(M),e(K),e(q);var T=o(q,2),O=r(T),z=r(O),R=r(z),te=o(r(R),2);{var re=a=>{var t=Ae();n(a,t)};_(te,a=>{u.data.totalPages>1&&a(re)})}e(R);var S=o(R,2);V(S,21,()=>u.data.posts,G,(a,t)=>{ke(a,{get post(){return s(t)}})}),e(S);var ae=o(S,2);{var se=a=>{var t=Ce();n(a,t)};_(ae,a=>{u.data.totalPages>1&&a(se)})}e(z);var Q=o(z,2),B=r(Q),U=o(r(B),2);V(U,21,()=>u.data.topContributors,G,(a,t,p)=>{let v=()=>s(t).name,x=()=>s(t).count,w=()=>s(t).groupeAbrev,b=()=>s(t).couleur,y=()=>s(t).photo;var g=Re(),k=r(g);k.textContent=p+1;var P=o(k,2);{var h=l=>{var i=qe();m(()=>{H(i,"src",`https://www2.assemblee-nationale.fr/static/tribun/17/photos/${y()??""}`),H(i,"alt",v())}),L("error",i,()=>{s(C)[p]=!0}),we(i),n(l,i)},le=l=>{var i=Te(),E=r(i,!0);e(i),m(A=>c(E,A),[()=>{var A;return((A=v().split(" ").pop())==null?void 0:A[0])??"?"}]),n(l,i)};_(P,l=>{y()&&!s(C)[p]?l(h):l(le,!1)})}var D=o(P,2),j=r(D),ne=r(j,!0);e(j);var de=o(j,2);{var ue=l=>{var i=ze(),E=r(i,!0);e(i),m(()=>{I(i,`background-color: ${b()??"#9ca3af"??""};`),c(E,w())}),n(l,i)};_(de,l=>{w()&&l(ue)})}e(D);var Y=o(D,2),ve=r(Y,!0);e(Y),e(g),m(l=>{H(j,"href",`/auteurs/${l??""}`),c(ne,v()),c(ve,x())},[()=>Pe(v())]),n(a,g)}),e(U),he(2),e(B);var W=o(B,2),X=o(r(W),2);V(X,21,()=>u.data.partyStats,G,(a,t)=>{const p=_e(()=>u.data.partyStats[0].count);var v=Se(),x=r(v),w=r(x,!0);e(x);var b=o(x,2),y=r(b);e(b);var g=o(b,2),k=r(g,!0);e(g),e(v),m(()=>{c(w,s(t).abrev),I(y,`width:${s(t).count/s(p)*100}%; background-color:${s(t).couleur??""};`),c(k,s(t).count)}),L("mouseenter",x,P=>{const h=P.currentTarget.getBoundingClientRect();F(f,{x:h.left+h.width/2,y:h.top-8,text:s(t).nom},!0)}),L("mouseleave",x,()=>F(f,null)),n(a,v)}),e(X),e(W),e(Q),e(O),e(T);var oe=o(T,2);{var ie=a=>{var t=Be(),p=r(t,!0);e(t),m(()=>{I(t,`left: ${s(f).x??""}px; top: ${s(f).y??""}px;`),c(p,s(f).text)}),n(a,t)};_(oe,a=>{s(f)&&a(ie)})}m(()=>c(ee,`${u.data.totalPosts??""} propositions de loi déposées à l'Assemblée nationale, résumées et organisées par thématique et auteur.`)),n($,J),fe()}export{Ke as component};
