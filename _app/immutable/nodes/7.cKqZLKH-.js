import{H as Yt}from"../chunks/D0iwhpLH.js";import{p as Ct,s as Ft}from"../chunks/B40_ZjrE.js";import{a as y,f as $,t as Zt}from"../chunks/Bn8D5vT6.js";import{a8 as te,E as ee,bg as re,am as ae,m as oe,b as se,bh as ne,bi as ie,a3 as de,I as ft,aK as jt,p as It,h as Lt,n as s,o as a,t as P,g as t,l as pt,v as C,k as x,j as zt,s as yt,i as Dt,u as le,w as ue,$ as ce,q as ve}from"../chunks/COYP6b2A.js";import{j as fe,d as Bt,e as Mt,s as R,a as Gt,r as pe}from"../chunks/BY0ZPMYX.js";import{i as I}from"../chunks/7CZWphsi.js";import{e as X,a as V,i as Y,b as Tt,s as ot}from"../chunks/D1IRmeBa.js";import{c as me}from"../chunks/DOcCtvcY.js";import{h as xe}from"../chunks/D14Rd2XW.js";import{B as ge}from"../chunks/CahPlO_V.js";const _e=()=>performance.now(),H={tick:n=>requestAnimationFrame(n),now:()=>_e(),tasks:new Set};function Wt(){const n=H.now();H.tasks.forEach(e=>{e.c(n)||(H.tasks.delete(e),e.f())}),H.tasks.size!==0&&H.tick(Wt)}function he(n){let e;return H.tasks.size===0&&H.tick(Wt),{promise:new Promise(r=>{H.tasks.add(e={c:n,f:r})}),abort(){H.tasks.delete(e)}}}function kt(n,e){jt(()=>{n.dispatchEvent(new CustomEvent(e))})}function be(n){if(n==="float")return"cssFloat";if(n==="offset")return"cssOffset";if(n.startsWith("--"))return n;const e=n.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Ot(n){const e={},r=n.split(";");for(const _ of r){const[N,k]=_.split(":");if(!N||k===void 0)break;const w=be(N.trim());e[w]=k.trim()}return e}const we=n=>n;function ye(n,e,r,_){var f;var N=(n&ne)!==0,k="both",w,T=e.inert,z=e.style.overflow,p,m;function j(){return jt(()=>w??(w=r()(e,(_==null?void 0:_())??{},{direction:k})))}var D={is_global:N,in(){e.inert=T,p=Pt(e,j(),m,1,()=>{kt(e,"introend"),p==null||p.abort(),p=w=void 0,e.style.overflow=z})},out(i){e.inert=!0,m=Pt(e,j(),p,0,()=>{kt(e,"outroend"),i==null||i()})},stop:()=>{p==null||p.abort(),m==null||m.abort()}},O=te;if(((f=O.nodes).t??(f.t=[])).push(D),fe){var v=N;if(!v){for(var o=O.parent;o&&(o.f&ee)!==0;)for(;(o=o.parent)&&(o.f&re)===0;);v=!o||(o.f&ae)!==0}v&&oe(()=>{se(()=>D.in())})}}function Pt(n,e,r,_,N){var k=_===1;if(ie(e)){var w,T=!1;return de(()=>{if(!T){var f=e({direction:k?"in":"out"});w=Pt(n,f,r,_,N)}}),{abort:()=>{T=!0,w==null||w.abort()},deactivate:()=>w.deactivate(),reset:()=>w.reset(),t:()=>w.t()}}if(r==null||r.deactivate(),!(e!=null&&e.duration)&&!(e!=null&&e.delay))return kt(n,k?"introstart":"outrostart"),N(),{abort:ft,deactivate:ft,reset:ft,t:()=>_};const{delay:z=0,css:p,tick:m,easing:j=we}=e;var D=[];if(k&&r===void 0&&(m&&m(0,1),p)){var O=Ot(p(0,1));D.push(O,O)}var v=()=>1-_,o=n.animate(D,{duration:z,fill:"forwards"});return o.onfinish=()=>{o.cancel(),kt(n,k?"introstart":"outrostart");var f=(r==null?void 0:r.t())??1-_;r==null||r.abort();var i=_-f,g=e.duration*Math.abs(i),E=[];if(g>0){var A=!1;if(p)for(var F=Math.ceil(g/16.666666666666668),q=0;q<=F;q+=1){var K=f+i*j(q/F),Z=Ot(p(K,1-K));E.push(Z),A||(A=Z.overflow==="hidden")}A&&(n.style.overflow="hidden"),v=()=>{var B=o.currentTime;return f+i*j(B/g)},m&&he(()=>{if(o.playState!=="running")return!1;var B=v();return m(B,1-B),!0})}o=n.animate(E,{duration:g,fill:"forwards"}),o.onfinish=()=>{v=()=>_,m==null||m(_,1-_),N()}},{abort:()=>{o&&(o.cancel(),o.effect=null,o.onfinish=ft)},deactivate:()=>{N=ft},reset:()=>{_===0&&(m==null||m(1,0))},t:()=>v()}}function ke(n,e){throw new Yt(n,e)}const $e=async({params:n,data:e})=>{const r=Object.keys(Ct).find(N=>N.endsWith(`/${n.slug}.md`));r||ke(404,"Proposition introuvable");const _=await Ct[r]();return{...e,component:_.default}},ir=Object.freeze(Object.defineProperty({__proto__:null,load:$e},Symbol.toStringTag,{value:"Module"}));function L(n){return n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z\s]/g,"").replace(/\s+/g," ").trim()}const qt=["LFI-NFP","GDR","ECOS","SOC","LIOT","DEM","EPR","HOR","DR","UDDPLR","RN","NI"];function Ae(n){const e=n-1;return e*e*e+1}function Se(n,{delay:e=0,duration:r=400,easing:_=Ae,axis:N="y"}={}){const k=getComputedStyle(n),w=+k.opacity,T=N==="y"?"height":"width",z=parseFloat(k[T]),p=N==="y"?["top","bottom"]:["left","right"],m=p.map(i=>`${i[0].toUpperCase()}${i.slice(1)}`),j=parseFloat(k[`padding${m[0]}`]),D=parseFloat(k[`padding${m[1]}`]),O=parseFloat(k[`margin${m[0]}`]),v=parseFloat(k[`margin${m[1]}`]),o=parseFloat(k[`border${m[0]}Width`]),f=parseFloat(k[`border${m[1]}Width`]);return{delay:e,duration:r,easing:_,css:i=>`overflow: hidden;opacity: ${Math.min(i*20,1)*w};${T}: ${i*z}px;padding-${p[0]}: ${i*j}px;padding-${p[1]}: ${i*D}px;margin-${p[0]}: ${i*O}px;margin-${p[1]}: ${i*v}px;border-${p[0]}-width: ${i*o}px;border-${p[1]}-width: ${i*f}px;min-${T}: 0`}}var Ne=$('<div role="presentation" class="relative flex-none overflow-hidden rounded-sm"><div class="absolute inset-y-0 left-0 rounded-sm"></div></div>'),Re=$('<div class="pointer-events-none fixed z-50 -translate-x-1/2 -translate-y-full rounded-md bg-foreground px-2.5 py-1 text-xs font-semibold text-background shadow-lg"> </div>'),Ee=$('<tr class="border-b border-border last:border-0 transition-colors hover:bg-muted/20"><td class="px-4 py-2.5"><span class="flex items-center gap-2"><span class="inline-block h-2.5 w-2.5 shrink-0 rounded-full"></span> <span class="text-sm text-foreground"> </span></span></td><td class="px-4 py-2.5 text-right text-sm font-bold text-foreground"> </td><td class="px-4 py-2.5 text-right text-sm text-muted-foreground"> </td></tr>'),Fe=$('<div class="mt-3 overflow-hidden rounded-lg border border-border"><table class="w-full text-sm"><thead><tr class="border-b border-border bg-muted/40"><th class="px-4 py-2 text-left text-[11px] font-semibold uppercase tracking-wider text-muted-foreground">Parti</th><th class="px-4 py-2 text-right text-[11px] font-semibold uppercase tracking-wider text-muted-foreground">Signataires</th><th class="px-4 py-2 text-right text-[11px] font-semibold uppercase tracking-wider text-muted-foreground">Total</th></tr></thead><tbody></tbody></table></div>'),Me=$('<div class="mt-5"><button class="flex w-full cursor-pointer items-center justify-between text-left"><h3 class="text-xs font-semibold uppercase tracking-widest text-muted-foreground underline decoration-dotted underline-offset-2">Répartition par parti</h3> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button> <!></div>'),Te=$('<div class="relative flex h-2 w-full gap-px overflow-hidden rounded-full"></div> <!> <!>',1);function Pe(n,e){It(e,!0);const r=C(()=>new Map(e.groupes.map(v=>[v.abrev,v]))),_=C(()=>{const v=new Map;for(const f of e.deputes)v.set(f.groupeAbrev,(v.get(f.groupeAbrev)??0)+1);const o=new Map;for(const f of e.auteurs){const i=L(f);let g;g=e.deputes.find(E=>{const A=L(`${E.prenom} ${E.nom}`),F=L(`${E.nom} ${E.prenom}`);return i===A||i===F}),g||(g=e.deputes.find(E=>{const A=L(E.nom),F=L(E.prenom);return A&&F&&i.includes(A)&&i.includes(F)})),g||(g=e.deputes.find(E=>{const A=L(E.nom);return A&&(i===A||i.endsWith(" "+A))})),g&&o.set(g.groupeAbrev,(o.get(g.groupeAbrev)??0)+1)}return qt.flatMap(f=>{const i=t(r).get(f),g=v.get(f)??0;return!i||g===0?[]:[{abrev:f,nom:i.nom,couleur:i.couleur,totalSeats:g,signataires:o.get(f)??0}]})}),N=C(()=>t(_).reduce((v,o)=>v+o.totalSeats,0)),k=C(()=>t(_).filter(v=>v.signataires>0));let w=yt(null),T=yt(!1);var z=Te(),p=Lt(z);X(p,21,()=>t(_),Y,(v,o)=>{const f=C(()=>t(o).totalSeats/t(N)*100),i=C(()=>t(o).signataires/t(o).totalSeats*100);var g=Ne(),E=s(g);a(g),P(()=>{V(g,`width: ${t(f)??""}%; background-color: ${t(o).couleur??""}22;`),V(E,`width: ${t(i)??""}%; background-color: ${t(o).couleur??""};`)}),Mt("mouseenter",g,A=>{const F=A.currentTarget.getBoundingClientRect();pt(w,{x:F.left+F.width/2,y:F.top-8,text:`${t(o).abrev}: ${t(o).signataires}/${t(o).totalSeats}`},!0)}),Mt("mouseleave",g,()=>pt(w,null)),y(v,g)}),a(p);var m=x(p,2);{var j=v=>{var o=Re(),f=s(o,!0);a(o),P(()=>{V(o,`left: ${t(w).x??""}px; top: ${t(w).y??""}px;`),R(f,t(w).text)}),y(v,o)};I(m,v=>{t(w)&&v(j)})}var D=x(m,2);{var O=v=>{var o=Me(),f=s(o),i=x(s(f),2);a(f);var g=x(f,2);{var E=A=>{var F=Fe(),q=s(F),K=x(s(q));X(K,21,()=>t(k),Y,(Z,B)=>{var st=Ee(),nt=s(st),it=s(nt),mt=s(it),dt=x(mt,2),$t=s(dt,!0);a(dt),a(it),a(nt);var tt=x(nt),At=s(tt,!0);a(tt);var lt=x(tt),xt=s(lt,!0);a(lt),a(st),P(()=>{V(mt,`background-color: ${t(B).couleur??""};`),R($t,t(B).nom),R(At,t(B).signataires),R(xt,t(B).totalSeats)}),y(Z,st)}),a(K),a(q),a(F),ye(3,F,()=>Se,()=>({duration:200})),y(A,F)};I(g,A=>{t(T)&&A(E)})}a(o),P(()=>Tt(i,0,`h-4 w-4 shrink-0 text-muted-foreground transition-transform ${t(T)?"rotate-180":""}`)),Gt("click",f,()=>pt(T,!t(T))),y(v,o)};I(D,v=>{t(k).length>0&&v(O)})}y(n,z),zt()}Bt(["click"]);var Ce=$('<meta name="description"/>'),De=$('· <a target="_blank" rel="noopener noreferrer" class="font-medium text-primary hover:underline">Voir sur assemblee-nationale.fr ↗</a>',1),Oe=$('<div class="mt-3 flex flex-wrap gap-1.5"></div>'),je=$('<p class="mt-0.5 text-xs text-muted-foreground"> </p>'),Ie=$("<p> </p>"),Le=$('<li class="relative"><span></span> <p class="text-sm font-semibold text-foreground leading-tight"> </p> <!> <!></li>'),ze=$('<div class="mb-8 rounded-xl border border-border bg-white p-5 shadow-sm"><h2 class="mb-4 text-xs font-semibold uppercase tracking-widest text-muted-foreground">Parcours législatif</h2> <ol class="relative flex flex-col gap-4 pl-5"></ol></div>'),Be=$('<div class="mb-8 rounded-xl border border-border bg-white p-5 shadow-sm"><h2 class="mb-4 text-xs font-semibold uppercase tracking-widest text-muted-foreground">Répartition politique des signataires</h2> <!></div>'),Ge=$('<img class="h-7 w-7 shrink-0 rounded-full object-cover object-top ring-1 ring-border"/>'),We=$('<div class="flex h-7 w-7 shrink-0 items-center justify-center rounded-full text-[10px] font-bold text-white"> </div>'),qe=$('<li class="flex items-center gap-2"><!> <a class="min-w-0 truncate text-xs font-medium text-foreground transition-colors hover:text-primary hover:underline"> </a></li>'),Ue=$('<li><button class="cursor-pointer text-[11px] text-muted-foreground underline decoration-dotted underline-offset-2 hover:text-primary"> </button></li>'),He=$('<div><div class="mb-2 flex items-center gap-1.5"><span class="h-2 w-2 shrink-0 rounded-full"></span> <span class="inline-flex items-center rounded px-1.5 py-0.5 text-[10px] font-bold uppercase leading-none tracking-wide text-white"> </span> <span class="min-w-0 truncate text-[10px] text-muted-foreground"> </span></div> <ul class="flex flex-col gap-1.5 border-l-2 pl-4"><!> <!></ul></div>'),Ke=$('<div class="flex flex-col gap-4"></div>'),Ve=$('<li><a class="text-sm font-medium text-foreground transition-colors hover:text-primary"> </a></li>'),Je=$('<ul class="flex flex-col gap-1.5"></ul>'),Qe=$('<div class="mx-auto max-w-6xl px-4 py-8"><div class="grid grid-cols-1 gap-8 lg:grid-cols-[1fr_300px]"><article><nav class="mb-6 flex items-center gap-1.5 text-xs text-muted-foreground"><a href="/" class="hover:text-primary">Accueil</a> <span>/</span> <span class="text-foreground"> </span></nav> <header class="mb-6"><div class="mb-3"><span class="rounded-full bg-primary px-3 py-1 text-xs font-bold text-primary-foreground"> </span></div> <h1 class="text-2xl font-extrabold leading-snug tracking-tight text-foreground sm:text-3xl"> </h1> <p class="mt-2 text-sm text-muted-foreground"> <!></p> <!></header> <!> <!> <div class="prose"><!></div></article> <aside class="flex flex-col gap-5"><div class="rounded-xl border border-border bg-white p-5 shadow-sm"><h3 class="mb-4 text-xs font-semibold uppercase tracking-widest text-muted-foreground"> </h3> <!></div></aside></div></div>');function dr(n,e){It(e,!0);const r=C(()=>e.data.meta),_=C(()=>e.data.component);function N(u){return u?new Intl.DateTimeFormat("fr-FR",{dateStyle:"long"}).format(new Date(u)):""}function k(u){const d=L(u);for(const l of e.data.deputes){const c=L(`${l.prenom} ${l.nom}`),h=L(`${l.nom} ${l.prenom}`);if(d===c||d===h)return l}for(const l of e.data.deputes){const c=L(l.nom),h=L(l.prenom);if(c&&h&&d.includes(c)&&d.includes(h))return l}for(const l of e.data.deputes){const c=L(l.nom);if(c&&(d===c||d.endsWith(" "+c)))return l}return null}const w=C(()=>{const u=new Map(e.data.groupes.map(l=>[l.abrev,l])),d=new Map;return t(r).auteurs.forEach((l,c)=>{const h=k(l);if(h){const M=d.get(h.groupeAbrev)??[];M.push({name:l,photo:h.photo,slug:Ft(l),idx:c}),d.set(h.groupeAbrev,M)}}),qt.flatMap(l=>{const c=u.get(l),h=d.get(l);return!c||!(h!=null&&h.length)?[]:[{groupeAbrev:l,couleur:c.couleur,nom:c.nom,deputes:h}]})});let T=yt(Dt([]));le(()=>{pt(T,t(r).auteurs.map(()=>!1),!0)});const z=10;let p=yt(Dt(new Set));var m=Qe();xe("14u6r3i",u=>{var d=Ce();P(()=>ot(d,"content",`Proposition de loi N°${t(r).proposalNum??""} : ${t(r).proposalTitle??""}`)),ue(()=>{ce.title=`${t(r).proposalTitle??""} | Assemblée Facile`}),y(u,d)});var j=s(m),D=s(j),O=s(D),v=x(s(O),4),o=s(v);a(v),a(O);var f=x(O,2),i=s(f),g=s(i),E=s(g);a(g),a(i);var A=x(i,2),F=s(A,!0);a(A);var q=x(A,2),K=s(q),Z=x(K);{var B=u=>{var d=De(),l=x(Lt(d));P(()=>ot(l,"href",t(r).link)),y(u,d)};I(Z,u=>{t(r).link&&u(B)})}a(q);var st=x(q,2);{var nt=u=>{var d=Oe();X(d,21,()=>t(r).tags,Y,(l,c)=>{{let h=C(()=>Ft(t(c)));ge(l,{variant:"secondary",class:"rounded-full text-xs",get href(){return`/tags/${t(h)??""}`},children:(M,J)=>{ve();var G=Zt();P(()=>R(G,t(c))),y(M,G)},$$slots:{default:!0}})}}),a(d),y(u,d)};I(st,u=>{t(r).tags.length&&u(nt)})}a(f);var it=x(f,2);{var mt=u=>{var d=ze(),l=x(s(d),2);X(l,21,()=>t(r).stepsName,Y,(c,h,M)=>{const J=C(()=>{var b;return((b=t(r).stepsStatus[M])==null?void 0:b.trim())!==""}),G=C(()=>{var b;return(b=t(r).stepsStatus[M])==null?void 0:b.includes("adopté")}),et=C(()=>{var b;return(b=t(r).stepsStatus[M])==null?void 0:b.includes("rejeté")});var rt=Le(),Q=s(rt),ut=x(Q,2),gt=s(ut,!0);a(ut);var _t=x(ut,2);{var ct=b=>{var S=je(),W=s(S,!0);a(S),P(()=>R(W,t(r).stepsDate[M])),y(b,S)};I(_t,b=>{t(r).stepsDate[M]&&b(ct)})}var ht=x(_t,2);{var Nt=b=>{var S=Ie(),W=s(S,!0);a(S),P(()=>{Tt(S,1,`mt-0.5 text-xs font-medium
										${t(G)?"text-green-700":t(et)?"text-red-700":"text-muted-foreground"}`),R(W,t(r).stepsStatus[M])}),y(b,S)},Rt=C(()=>{var b;return(b=t(r).stepsStatus[M])==null?void 0:b.trim()});I(ht,b=>{t(Rt)&&b(Nt)})}a(rt),P(()=>{Tt(Q,1,`absolute -left-5 top-1 h-2.5 w-2.5 rounded-full border-2 border-background
										${t(J)?t(G)?"bg-green-500":t(et)?"bg-red-500":"bg-primary":"bg-border"}`),R(gt,t(h))}),y(c,rt)}),a(l),a(d),y(u,d)};I(it,u=>{t(r).stepsName.length&&u(mt)})}var dt=x(it,2);{var $t=u=>{var d=Be(),l=x(s(d),2);Pe(l,{get auteurs(){return t(r).auteurs},get deputes(){return e.data.deputes},get groupes(){return e.data.groupes}}),a(d),y(u,d)};I(dt,u=>{t(r).auteurs.length>1&&u($t)})}var tt=x(dt,2),At=s(tt);me(At,()=>t(_),(u,d)=>{d(u,{})}),a(tt),a(D);var lt=x(D,2),xt=s(lt),St=s(xt),Ut=s(St,!0);a(St);var Ht=x(St,2);{var Kt=u=>{var d=Ke();X(d,21,()=>t(w),Y,(l,c)=>{const h=C(()=>t(p).has(t(c).groupeAbrev)),M=C(()=>t(h)?t(c).deputes:t(c).deputes.slice(0,z)),J=C(()=>t(c).deputes.length-z);var G=He(),et=s(G),rt=s(et),Q=x(rt,2),ut=s(Q,!0);a(Q);var gt=x(Q,2),_t=s(gt,!0);a(gt),a(et);var ct=x(et,2),ht=s(ct);X(ht,17,()=>t(M),Y,(b,S)=>{var W=qe(),bt=s(W);{var vt=at=>{var U=Ge();P(()=>{ot(U,"src",`https://www2.assemblee-nationale.fr/static/tribun/17/photos/${t(S).photo??""}`),ot(U,"alt",t(S).name)}),Mt("error",U,()=>{t(T)[t(S).idx]=!0}),pe(U),y(at,U)},Jt=at=>{var U=We(),Xt=s(U,!0);a(U),P(wt=>{V(U,`background-color: ${t(c).couleur??""};`),R(Xt,wt)},[()=>{var wt;return((wt=t(S).name.split(" ").pop())==null?void 0:wt[0])??"?"}]),y(at,U)};I(bt,at=>{t(S).photo&&!t(T)[t(S).idx]?at(vt):at(Jt,!1)})}var Et=x(bt,2),Qt=s(Et,!0);a(Et),a(W),P(()=>{ot(Et,"href",`/auteurs/${t(S).slug??""}`),R(Qt,t(S).name)}),y(b,W)});var Nt=x(ht,2);{var Rt=b=>{var S=Ue(),W=s(S),bt=s(W,!0);a(W),a(S),P(()=>R(bt,t(h)?"Réduire":`et ${t(J)} de plus`)),Gt("click",W,()=>{const vt=new Set(t(p));t(h)?vt.delete(t(c).groupeAbrev):vt.add(t(c).groupeAbrev),pt(p,vt,!0)}),y(b,S)};I(Nt,b=>{t(J)>0&&b(Rt)})}a(ct),a(G),P(()=>{V(rt,`background-color: ${t(c).couleur??""};`),V(Q,`background-color: ${t(c).couleur??""};`),R(ut,t(c).groupeAbrev),R(_t,t(c).nom),V(ct,`border-color: ${t(c).couleur??""}33;`)}),y(l,G)}),a(d),y(u,d)},Vt=u=>{var d=Je();X(d,21,()=>t(r).auteurs,Y,(l,c)=>{var h=Ve(),M=s(h),J=s(M,!0);a(M),a(h),P(G=>{ot(M,"href",`/auteurs/${G??""}`),R(J,t(c))},[()=>Ft(t(c))]),y(l,h)}),a(d),y(u,d)};I(Ht,u=>{t(w).length>0?u(Kt):u(Vt,!1)})}a(xt),a(lt),a(j),a(m),P(u=>{R(o,`N° ${t(r).proposalNum??""}`),R(E,`N° ${t(r).proposalNum??""}`),R(F,t(r).proposalTitle),R(K,`Déposé le ${u??""} `),R(Ut,t(r).auteurs.length>1?"Auteurs":"Auteur")},[()=>N(t(r).date)]),y(n,m),zt()}Bt(["click"]);export{dr as component,ir as universal};
