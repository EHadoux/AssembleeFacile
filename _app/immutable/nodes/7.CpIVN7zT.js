import{H as gt}from"../chunks/D0iwhpLH.js";import{p as qe,s as be}from"../chunks/Cz1-S_UM.js";import{a as g,f as _,t as xt}from"../chunks/6bLpuDLV.js";import{a8 as _t,E as ht,bh as bt,am as wt,m as yt,b as kt,bi as $t,bj as St,a3 as At,I as we,aL as Je,p as Qe,h as Ne,n as i,o as s,t as N,g as e,l as ye,v as T,k as p,j as Xe,s as Re,i as He,u as Et,w as Nt,$ as Rt,q as Pt}from"../chunks/CMIhKqG-.js";import{j as Tt,d as Ye,e as Pe,s as R,a as Ze,r as Ke}from"../chunks/DSLF0eNn.js";import{i as j}from"../chunks/PUcF9CRP.js";import{e as ne,a as te,i as ie,b as je,s as J}from"../chunks/BtNE-aZC.js";import{c as Mt}from"../chunks/CKSOepee.js";import{h as Ft}from"../chunks/DnWzQkCy.js";import{B as Ct}from"../chunks/B22xJDP8.js";const Ot=()=>performance.now(),oe={tick:d=>requestAnimationFrame(d),now:()=>Ot(),tasks:new Set};function et(){const d=oe.now();oe.tasks.forEach(t=>{t.c(d)||(oe.tasks.delete(t),t.f())}),oe.tasks.size!==0&&oe.tick(et)}function jt(d){let t;return oe.tasks.size===0&&oe.tick(et),{promise:new Promise(a=>{oe.tasks.add(t={c:d,f:a})}),abort(){oe.tasks.delete(t)}}}function Te(d,t){Je(()=>{d.dispatchEvent(new CustomEvent(t))})}function Dt(d){if(d==="float")return"cssFloat";if(d==="offset")return"cssOffset";if(d.startsWith("--"))return d;const t=d.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function Ve(d){const t={},a=d.split(";");for(const k of a){const[O,A]=k.split(":");if(!O||A===void 0)break;const E=Dt(O.trim());t[E]=A.trim()}return t}const It=d=>d;function Lt(d,t,a,k){var v;var O=(d&$t)!==0,A="both",E,D=t.inert,Q=t.style.overflow,h,x;function U(){return Je(()=>E??(E=a()(t,(k==null?void 0:k())??{},{direction:A})))}var b={is_global:O,in(){t.inert=D,h=De(t,U(),x,1,()=>{Te(t,"introend"),h==null||h.abort(),h=E=void 0,t.style.overflow=Q})},out(u){t.inert=!0,x=De(t,U(),h,0,()=>{Te(t,"outroend"),u==null||u()})},stop:()=>{h==null||h.abort(),x==null||x.abort()}},L=_t;if(((v=L.nodes).t??(v.t=[])).push(b),Tt){var c=O;if(!c){for(var l=L.parent;l&&(l.f&ht)!==0;)for(;(l=l.parent)&&(l.f&bt)===0;);c=!l||(l.f&wt)!==0}c&&yt(()=>{kt(()=>b.in())})}}function De(d,t,a,k,O){var A=k===1;if(St(t)){var E,D=!1;return At(()=>{if(!D){var v=t({direction:A?"in":"out"});E=De(d,v,a,k,O)}}),{abort:()=>{D=!0,E==null||E.abort()},deactivate:()=>E.deactivate(),reset:()=>E.reset(),t:()=>E.t()}}if(a==null||a.deactivate(),!(t!=null&&t.duration)&&!(t!=null&&t.delay))return Te(d,A?"introstart":"outrostart"),O(),{abort:we,deactivate:we,reset:we,t:()=>k};const{delay:Q=0,css:h,tick:x,easing:U=It}=t;var b=[];if(A&&a===void 0&&(x&&x(0,1),h)){var L=Ve(h(0,1));b.push(L,L)}var c=()=>1-k,l=d.animate(b,{duration:Q,fill:"forwards"});return l.onfinish=()=>{l.cancel(),Te(d,A?"introstart":"outrostart");var v=(a==null?void 0:a.t())??1-k;a==null||a.abort();var u=k-v,w=t.duration*Math.abs(u),M=[];if(w>0){var F=!1;if(h)for(var C=Math.ceil(w/16.666666666666668),X=0;X<=C;X+=1){var se=v+u*U(X/C),ue=Ve(h(se,1-se));M.push(ue),F||(F=ue.overflow==="hidden")}F&&(d.style.overflow="hidden"),c=()=>{var z=l.currentTime;return v+u*U(z/w)},x&&jt(()=>{if(l.playState!=="running")return!1;var z=c();return x(z,1-z),!0})}l=d.animate(M,{duration:w,fill:"forwards"}),l.onfinish=()=>{c=()=>k,x==null||x(k,1-k),O()}},{abort:()=>{l&&(l.cancel(),l.effect=null,l.onfinish=we)},deactivate:()=>{O=we},reset:()=>{k===0&&(x==null||x(1,0))},t:()=>c()}}function zt(d,t){throw new gt(d,t)}const Bt=async({params:d,data:t})=>{const a=Object.keys(qe).find(O=>O.endsWith(`/${d.slug}.md`));a||zt(404,"Proposition introuvable");const k=await qe[a]();return{...t,component:k.default}},Mr=Object.freeze(Object.defineProperty({__proto__:null,load:Bt},Symbol.toStringTag,{value:"Module"}));function G(d){return d.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z\s]/g,"").replace(/\s+/g," ").trim()}const tt=["LFI-NFP","GDR","ECOS","SOC","LIOT","DEM","EPR","HOR","DR","UDDPLR","RN","NI"];function Gt(d){const t=d-1;return t*t*t+1}function Ut(d,{delay:t=0,duration:a=400,easing:k=Gt,axis:O="y"}={}){const A=getComputedStyle(d),E=+A.opacity,D=O==="y"?"height":"width",Q=parseFloat(A[D]),h=O==="y"?["top","bottom"]:["left","right"],x=h.map(u=>`${u[0].toUpperCase()}${u.slice(1)}`),U=parseFloat(A[`padding${x[0]}`]),b=parseFloat(A[`padding${x[1]}`]),L=parseFloat(A[`margin${x[0]}`]),c=parseFloat(A[`margin${x[1]}`]),l=parseFloat(A[`border${x[0]}Width`]),v=parseFloat(A[`border${x[1]}Width`]);return{delay:t,duration:a,easing:k,css:u=>`overflow: hidden;opacity: ${Math.min(u*20,1)*E};${D}: ${u*Q}px;padding-${h[0]}: ${u*U}px;padding-${h[1]}: ${u*b}px;margin-${h[0]}: ${u*L}px;margin-${h[1]}: ${u*c}px;border-${h[0]}-width: ${u*l}px;border-${h[1]}-width: ${u*v}px;min-${D}: 0`}}var Wt=_('<div role="presentation" class="relative flex-none overflow-hidden rounded-sm"><div class="absolute inset-y-0 left-0 rounded-sm"></div></div>'),qt=_('<div class="pointer-events-none fixed z-50 -translate-x-1/2 -translate-y-full rounded-md bg-foreground px-2.5 py-1 text-xs font-semibold text-background shadow-lg"> </div>'),Ht=_('<tr class="border-b border-border last:border-0 transition-colors hover:bg-muted/20"><td class="px-4 py-2.5"><span class="flex items-center gap-2"><span class="inline-block h-2.5 w-2.5 shrink-0 rounded-full"></span> <span class="text-sm text-foreground"> </span></span></td><td class="px-4 py-2.5 text-right text-sm font-bold text-foreground"> </td><td class="px-4 py-2.5 text-right text-sm text-muted-foreground"> </td></tr>'),Kt=_('<div class="mt-3 overflow-hidden rounded-lg border border-border"><table class="w-full text-sm"><thead><tr class="border-b border-border bg-muted/40"><th class="px-4 py-2 text-left text-[11px] font-semibold uppercase tracking-wider text-muted-foreground">Parti</th><th class="px-4 py-2 text-right text-[11px] font-semibold uppercase tracking-wider text-muted-foreground">Signataires</th><th class="px-4 py-2 text-right text-[11px] font-semibold uppercase tracking-wider text-muted-foreground">Total</th></tr></thead><tbody></tbody></table></div>'),Vt=_('<div class="mt-5"><button class="flex w-full cursor-pointer items-center justify-between text-left"><h3 class="text-xs font-semibold uppercase tracking-widest text-muted-foreground underline decoration-dotted underline-offset-2">Répartition par parti</h3> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button> <!></div>'),Jt=_('<div class="relative flex h-2 w-full gap-px overflow-hidden rounded-full"></div> <!> <!>',1);function Qt(d,t){Qe(t,!0);const a=T(()=>new Map(t.groupes.map(c=>[c.abrev,c]))),k=T(()=>{const c=new Map;for(const v of t.deputes)c.set(v.groupeAbrev,(c.get(v.groupeAbrev)??0)+1);const l=new Map;for(const v of t.auteurs){const u=G(v);let w;w=t.deputes.find(M=>{const F=G(`${M.prenom} ${M.nom}`),C=G(`${M.nom} ${M.prenom}`);return u===F||u===C}),w||(w=t.deputes.find(M=>{const F=G(M.nom),C=G(M.prenom);return F&&C&&u.includes(F)&&u.includes(C)})),w||(w=t.deputes.find(M=>{const F=G(M.nom);return F&&(u===F||u.endsWith(" "+F))})),w&&l.set(w.groupeAbrev,(l.get(w.groupeAbrev)??0)+1)}return tt.flatMap(v=>{const u=e(a).get(v),w=c.get(v)??0;return!u||w===0?[]:[{abrev:v,nom:u.nom,couleur:u.couleur,totalSeats:w,signataires:l.get(v)??0}]})}),O=T(()=>e(k).reduce((c,l)=>c+l.totalSeats,0)),A=T(()=>e(k).filter(c=>c.signataires>0));let E=Re(null),D=Re(!1);var Q=Jt(),h=Ne(Q);ne(h,21,()=>e(k),ie,(c,l)=>{const v=T(()=>e(l).totalSeats/e(O)*100),u=T(()=>e(l).signataires/e(l).totalSeats*100);var w=Wt(),M=i(w);s(w),N(()=>{te(w,`width: ${e(v)??""}%; background-color: ${e(l).couleur??""}22;`),te(M,`width: ${e(u)??""}%; background-color: ${e(l).couleur??""};`)}),Pe("mouseenter",w,F=>{const C=F.currentTarget.getBoundingClientRect();ye(E,{x:C.left+C.width/2,y:C.top-8,text:`${e(l).abrev}: ${e(l).signataires}/${e(l).totalSeats}`},!0)}),Pe("mouseleave",w,()=>ye(E,null)),g(c,w)}),s(h);var x=p(h,2);{var U=c=>{var l=qt(),v=i(l,!0);s(l),N(()=>{te(l,`left: ${e(E).x??""}px; top: ${e(E).y??""}px;`),R(v,e(E).text)}),g(c,l)};j(x,c=>{e(E)&&c(U)})}var b=p(x,2);{var L=c=>{var l=Vt(),v=i(l),u=p(i(v),2);s(v);var w=p(v,2);{var M=F=>{var C=Kt(),X=i(C),se=p(i(X));ne(se,21,()=>e(A),ie,(ue,z)=>{var le=Ht(),ce=i(le),ke=i(ce),ve=i(ke),$e=p(ve,2),ge=i($e,!0);s($e),s(ke),s(ce);var fe=p(ce),Me=i(fe,!0);s(fe);var Se=p(fe),Fe=i(Se,!0);s(Se),s(le),N(()=>{te(ve,`background-color: ${e(z).couleur??""};`),R(ge,e(z).nom),R(Me,e(z).signataires),R(Fe,e(z).totalSeats)}),g(ue,le)}),s(se),s(X),s(C),Lt(3,C,()=>Ut,()=>({duration:200})),g(F,C)};j(w,F=>{e(D)&&F(M)})}s(l),N(()=>je(u,0,`h-4 w-4 shrink-0 text-muted-foreground transition-transform ${e(D)?"rotate-180":""}`)),Ze("click",v,()=>ye(D,!e(D))),g(c,l)};j(b,c=>{e(A).length>0&&c(L)})}g(d,Q),Xe()}Ye(["click"]);var Xt=_('<meta name="description"/>'),Yt=_('· <a target="_blank" rel="noopener noreferrer" class="font-medium text-primary hover:underline">Voir sur assemblee-nationale.fr ↗</a>',1),Zt=_('<div class="mt-3 flex flex-wrap gap-1.5"></div>'),er=_('<p class="mt-0.5 text-xs text-muted-foreground"> </p>'),tr=_("<p> </p>"),rr=_('<li class="relative"><span></span> <p class="text-sm font-semibold text-foreground leading-tight"> </p> <!> <!></li>'),ar=_('<div class="mb-8 rounded-xl border border-border bg-white p-5 shadow-sm"><h2 class="mb-4 text-xs font-semibold uppercase tracking-widest text-muted-foreground">Parcours législatif</h2> <ol class="relative flex flex-col gap-4 pl-5"></ol></div>'),or=_('<div class="mb-8 rounded-xl border border-border bg-white p-5 shadow-sm"><h2 class="mb-4 text-xs font-semibold uppercase tracking-widest text-muted-foreground">Répartition politique des signataires</h2> <!></div>'),sr=_('<img alt="Sénat" class="h-11 w-11 shrink-0 rounded-full object-contain bg-white p-1 ring-2 ring-background shadow-sm"/>'),nr=_('<img class="h-11 w-11 shrink-0 rounded-full object-cover object-top ring-2 ring-background shadow-sm"/>'),ir=_('<div class="flex h-11 w-11 shrink-0 items-center justify-center rounded-full text-sm font-bold text-white shadow-sm"> </div>'),lr=_('<span class="mt-1 inline-block rounded-sm px-1.5 py-px text-[9px] font-bold uppercase tracking-wide text-white"> </span>'),dr=_('<h3 class="mb-3 text-xs font-semibold uppercase tracking-widest text-muted-foreground">Auteur</h3> <div class="mb-5 flex items-center gap-3 rounded-lg px-3 py-2.5"><!> <div class="min-w-0 flex-1"><a class="block truncate text-sm font-bold leading-snug text-foreground hover:text-primary hover:underline"> </a> <!></div></div>',1),ur=_('<img class="h-6 w-6 shrink-0 rounded-full object-cover object-top ring-1 ring-border"/>'),cr=_('<div class="flex h-6 w-6 shrink-0 items-center justify-center rounded-full text-[9px] font-bold text-white"> </div>'),vr=_('<li class="flex items-center gap-2"><!> <a class="min-w-0 truncate text-xs font-medium text-foreground transition-colors hover:text-primary hover:underline"> </a></li>'),fr=_('<li><button class="cursor-pointer text-[11px] text-muted-foreground underline decoration-dotted underline-offset-2 hover:text-primary"> </button></li>'),pr=_('<div><div class="mb-2 flex items-center gap-1.5"><span class="inline-flex items-center rounded px-1.5 py-0.5 text-[10px] font-bold uppercase leading-none tracking-wide text-white"> </span> <span class="min-w-0 truncate text-[10px] text-muted-foreground"> </span></div> <ul class="flex flex-col gap-1.5 border-l-2 pl-4"><!> <!></ul></div>'),mr=_('<div class="flex flex-col gap-4"></div>'),gr=_('<li><a class="text-xs font-medium text-foreground transition-colors hover:text-primary hover:underline"> </a></li>'),xr=_('<ul class="mt-3 flex flex-col gap-1"></ul>'),_r=_('<h3 class="mb-3 text-xs font-semibold uppercase tracking-widest text-muted-foreground">Cosignataires <span class="ml-1 font-normal tabular-nums"> </span></h3> <!> <!>',1),hr=_('<li><a class="text-sm font-medium text-foreground transition-colors hover:text-primary"> </a></li>'),br=_('<ul class="flex flex-col gap-1.5"></ul>'),wr=_('<div class="mx-auto max-w-6xl px-4 py-8"><div class="grid grid-cols-1 gap-8 lg:grid-cols-[1fr_300px]"><article><nav class="mb-6 flex items-center gap-1.5 text-xs text-muted-foreground"><a href="/" class="hover:text-primary">Accueil</a> <span>/</span> <span class="text-foreground"> </span></nav> <header class="mb-6"><div class="mb-3"><span class="rounded-full bg-primary px-3 py-1 text-xs font-bold text-primary-foreground"> </span></div> <h1 class="text-2xl font-extrabold leading-snug tracking-tight text-foreground sm:text-3xl"> </h1> <p class="mt-2 text-sm text-muted-foreground"> <!></p> <!></header> <!> <!> <div class="prose"><!></div></article> <aside class="flex flex-col gap-5"><div class="rounded-xl border border-border bg-white p-5 shadow-sm"><!> <!></div></aside></div></div>');function Fr(d,t){Qe(t,!0);const a=T(()=>t.data.meta),k=T(()=>t.data.component);function O(n){return n?new Intl.DateTimeFormat("fr-FR",{dateStyle:"long"}).format(new Date(n)):""}const A="m le president du senat",E="#002395",D="https://www.assemblee-nationale.fr/assets/images/logos/logo_sn.webp",Q={nom:"Sénat",abrev:"SEN",couleur:E};function h(n){return G(n)===A}function x(n){const r=G(n);for(const o of t.data.deputes){const y=G(`${o.prenom} ${o.nom}`),$=G(`${o.nom} ${o.prenom}`);if(r===y||r===$)return o}for(const o of t.data.deputes){const y=G(o.nom),$=G(o.prenom);if(y&&$&&r.includes(y)&&r.includes($))return o}for(const o of t.data.deputes){const y=G(o.nom);if(y&&(r===y||r.endsWith(" "+y)))return o}return null}const U=T(()=>{if(!t.data.signataires.length)return null;const n=t.data.signataires.find(o=>o.role==="auteur");if(n)return n.depute_id;const r=t.data.signataires.find(o=>o.role===null&&o.ordre===0);return(r==null?void 0:r.depute_id)??null}),b=T(()=>{const n=new Map(t.data.groupes.map(r=>[r.abrev,r]));if(e(U))for(let r=0;r<e(a).auteurs.length;r++){const o=x(e(a).auteurs[r]);if(o&&o.id===e(U))return{name:e(a).auteurs[r],dep:o,groupe:n.get(o.groupeAbrev)??null,idx:r,senatePresident:!1}}if(e(a).auteurs.length>0){const r=e(a).auteurs[0];if(h(r))return{name:r,dep:null,groupe:Q,idx:0,senatePresident:!0};const o=x(r);return{name:r,dep:o,groupe:o?n.get(o.groupeAbrev)??null:null,idx:0,senatePresident:!1}}return null}),L=T(()=>{const n=new Map(t.data.groupes.map(o=>[o.abrev,o])),r=new Map;return e(a).auteurs.forEach((o,y)=>{var P;if(y===((P=e(b))==null?void 0:P.idx))return;const $=x(o);if($){const K=r.get($.groupeAbrev)??[];K.push({name:o,photo:$.photo,slug:be(o),idx:y}),r.set($.groupeAbrev,K)}}),tt.flatMap(o=>{const y=n.get(o),$=r.get(o);return!y||!($!=null&&$.length)?[]:[{groupeAbrev:o,couleur:y.couleur,nom:y.nom,deputes:$}]})}),c=T(()=>e(a).auteurs.filter((n,r)=>{var o;return r===((o=e(b))==null?void 0:o.idx)?!1:!x(n)&&!h(n)})),l=T(()=>e(L).reduce((n,r)=>n+r.deputes.length,0)+e(c).length);let v=Re(He([]));Et(()=>{ye(v,e(a).auteurs.map(()=>!1),!0)});const u=10;let w=Re(He(new Set));var M=wr();Ft("14u6r3i",n=>{var r=Xt();N(()=>J(r,"content",`Proposition de loi N°${e(a).proposalNum??""} : ${e(a).proposalTitle??""}`)),Nt(()=>{Rt.title=`${e(a).proposalTitle??""} | Assemblée Facile`}),g(n,r)});var F=i(M),C=i(F),X=i(C),se=p(i(X),4),ue=i(se);s(se),s(X);var z=p(X,2),le=i(z),ce=i(le),ke=i(ce);s(ce),s(le);var ve=p(le,2),$e=i(ve,!0);s(ve);var ge=p(ve,2),fe=i(ge),Me=p(fe);{var Se=n=>{var r=Yt(),o=p(Ne(r));N(()=>J(o,"href",e(a).link)),g(n,r)};j(Me,n=>{e(a).link&&n(Se)})}s(ge);var Fe=p(ge,2);{var rt=n=>{var r=Zt();ne(r,21,()=>e(a).tags,ie,(o,y)=>{{let $=T(()=>be(e(y)));Ct(o,{variant:"secondary",class:"rounded-full text-xs",get href(){return`/tags/${e($)??""}`},children:(P,K)=>{Pt();var W=xt();N(()=>R(W,e(y))),g(P,W)},$$slots:{default:!0}})}}),s(r),g(n,r)};j(Fe,n=>{e(a).tags.length&&n(rt)})}s(z);var Ie=p(z,2);{var at=n=>{var r=ar(),o=p(i(r),2);ne(o,21,()=>e(a).stepsName,ie,(y,$,P)=>{const K=T(()=>{var S;return((S=e(a).stepsStatus[P])==null?void 0:S.trim())!==""}),W=T(()=>{var S;return(S=e(a).stepsStatus[P])==null?void 0:S.includes("adopté")}),re=T(()=>{var S;return(S=e(a).stepsStatus[P])==null?void 0:S.includes("rejeté")});var B=rr(),q=i(B),ae=p(q,2),m=i(ae,!0);s(ae);var f=p(ae,2);{var I=S=>{var Z=er(),pe=i(Z,!0);s(Z),N(()=>R(pe,e(a).stepsDate[P])),g(S,Z)};j(f,S=>{e(a).stepsDate[P]&&S(I)})}var V=p(f,2);{var Y=S=>{var Z=tr(),pe=i(Z,!0);s(Z),N(()=>{je(Z,1,`mt-0.5 text-xs font-medium
										${e(W)?"text-green-700":e(re)?"text-red-700":"text-muted-foreground"}`),R(pe,e(a).stepsStatus[P])}),g(S,Z)},xe=T(()=>{var S;return(S=e(a).stepsStatus[P])==null?void 0:S.trim()});j(V,S=>{e(xe)&&S(Y)})}s(B),N(()=>{je(q,1,`absolute -left-5 top-1 h-2.5 w-2.5 rounded-full border-2 border-background
										${e(K)?e(W)?"bg-green-500":e(re)?"bg-red-500":"bg-primary":"bg-border"}`),R(m,e($))}),g(y,B)}),s(o),s(r),g(n,r)};j(Ie,n=>{e(a).stepsName.length&&n(at)})}var Le=p(Ie,2);{var ot=n=>{var r=or(),o=p(i(r),2);Qt(o,{get auteurs(){return e(a).auteurs},get deputes(){return t.data.deputes},get groupes(){return t.data.groupes}}),s(r),g(n,r)};j(Le,n=>{e(a).auteurs.length>1&&n(ot)})}var ze=p(Le,2),st=i(ze);Mt(st,()=>e(k),(n,r)=>{r(n,{})}),s(ze),s(C);var Be=p(C,2),Ge=i(Be),Ue=i(Ge);{var nt=n=>{var r=dr(),o=p(Ne(r),2),y=i(o);{var $=m=>{var f=sr();J(f,"src",D),g(m,f)},P=m=>{var f=nr();N(()=>{J(f,"src",`https://www2.assemblee-nationale.fr/static/tribun/17/photos/${e(b).dep.photo??""}`),J(f,"alt",e(b).name)}),Pe("error",f,()=>{e(v)[e(b).idx]=!0}),Ke(f),g(m,f)},K=m=>{var f=ir(),I=i(f,!0);s(f),N(V=>{var Y;te(f,`background-color: ${((Y=e(b).groupe)==null?void 0:Y.couleur)??"var(--primary)"??""};`),R(I,V)},[()=>{var V;return((V=e(b).name.split(" ").pop())==null?void 0:V[0])??"?"}]),g(m,f)};j(y,m=>{var f;e(b).senatePresident?m($):(f=e(b).dep)!=null&&f.photo&&!e(v)[e(b).idx]?m(P,1):m(K,!1)})}var W=p(y,2),re=i(W),B=i(re,!0);s(re);var q=p(re,2);{var ae=m=>{var f=lr(),I=i(f,!0);s(f),N(()=>{te(f,`background-color: ${e(b).groupe.couleur??""};`),R(I,e(b).groupe.abrev)}),g(m,f)};j(q,m=>{e(b).groupe&&m(ae)})}s(W),s(o),N(m=>{var f,I;te(o,`background-color: ${((f=e(b).groupe)==null?void 0:f.couleur)??"var(--primary)"??""}12; border-left: 3px solid ${((I=e(b).groupe)==null?void 0:I.couleur)??"var(--primary)"??""};`),J(re,"href",`/auteurs/${m??""}`),R(B,e(b).name)},[()=>be(e(b).name)]),g(n,r)};j(Ue,n=>{e(b)&&n(nt)})}var it=p(Ue,2);{var lt=n=>{var r=_r(),o=Ne(r),y=p(i(o)),$=i(y);s(y),s(o);var P=p(o,2);{var K=B=>{var q=mr();ne(q,21,()=>e(L),ie,(ae,m)=>{const f=T(()=>e(w).has(e(m).groupeAbrev)),I=T(()=>e(f)?e(m).deputes:e(m).deputes.slice(0,u)),V=T(()=>e(m).deputes.length-u);var Y=pr(),xe=i(Y),S=i(xe),Z=i(S,!0);s(S);var pe=p(S,2),ut=i(pe,!0);s(pe),s(xe);var Ce=p(xe,2),We=i(Ce);ne(We,17,()=>e(I),ie,(_e,H)=>{var de=vr(),Ae=i(de);{var he=me=>{var ee=ur();N(()=>{J(ee,"src",`https://www2.assemblee-nationale.fr/static/tribun/17/photos/${e(H).photo??""}`),J(ee,"alt",e(H).name)}),Pe("error",ee,()=>{e(v)[e(H).idx]=!0}),Ke(ee),g(me,ee)},ft=me=>{var ee=cr(),mt=i(ee,!0);s(ee),N(Ee=>{te(ee,`background-color: ${e(m).couleur??""};`),R(mt,Ee)},[()=>{var Ee;return((Ee=e(H).name.split(" ").pop())==null?void 0:Ee[0])??"?"}]),g(me,ee)};j(Ae,me=>{e(H).photo&&!e(v)[e(H).idx]?me(he):me(ft,!1)})}var Oe=p(Ae,2),pt=i(Oe,!0);s(Oe),s(de),N(()=>{J(Oe,"href",`/auteurs/${e(H).slug??""}`),R(pt,e(H).name)}),g(_e,de)});var ct=p(We,2);{var vt=_e=>{var H=fr(),de=i(H),Ae=i(de,!0);s(de),s(H),N(()=>R(Ae,e(f)?"Réduire":`et ${e(V)} de plus`)),Ze("click",de,()=>{const he=new Set(e(w));e(f)?he.delete(e(m).groupeAbrev):he.add(e(m).groupeAbrev),ye(w,he,!0)}),g(_e,H)};j(ct,_e=>{e(V)>0&&_e(vt)})}s(Ce),s(Y),N(()=>{te(S,`background-color: ${e(m).couleur??""};`),R(Z,e(m).groupeAbrev),R(ut,e(m).nom),te(Ce,`border-color: ${e(m).couleur??""}33;`)}),g(ae,Y)}),s(q),g(B,q)};j(P,B=>{e(L).length>0&&B(K)})}var W=p(P,2);{var re=B=>{var q=xr();ne(q,21,()=>e(c),ie,(ae,m)=>{var f=gr(),I=i(f),V=i(I,!0);s(I),s(f),N(Y=>{J(I,"href",`/auteurs/${Y??""}`),R(V,e(m))},[()=>be(e(m))]),g(ae,f)}),s(q),g(B,q)};j(W,B=>{e(c).length>0&&B(re)})}N(()=>R($,`(${e(l)??""})`)),g(n,r)},dt=n=>{var r=br();ne(r,21,()=>e(a).auteurs,ie,(o,y)=>{var $=hr(),P=i($),K=i(P,!0);s(P),s($),N(W=>{J(P,"href",`/auteurs/${W??""}`),R(K,e(y))},[()=>be(e(y))]),g(o,$)}),s(r),g(n,r)};j(it,n=>{e(l)>0?n(lt):!e(b)&&e(a).auteurs.length>0&&n(dt,1)})}s(Ge),s(Be),s(F),s(M),N(n=>{R(ue,`N° ${e(a).proposalNum??""}`),R(ke,`N° ${e(a).proposalNum??""}`),R($e,e(a).proposalTitle),R(fe,`Déposé le ${n??""} `)},[()=>O(e(a).date)]),g(d,M),Xe()}Ye(["click"]);export{Fr as component,Mr as universal};
